"use strict";(self.webpackChunkFront_end=self.webpackChunkFront_end||[]).push([[179],{802:()=>{function pe(t){return"function"==typeof t}function yo(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const El=yo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Gi(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class kt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(pe(r))try{r()}catch(s){e=s instanceof El?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{cw(s)}catch(o){e=e??[],o instanceof El?e=[...e,...o.errors]:e.push(o)}}if(e)throw new El(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cw(e);else{if(e instanceof kt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Gi(n,e)}remove(e){const{_finalizers:n}=this;n&&Gi(n,e),e instanceof kt&&e._removeParent(this)}}kt.EMPTY=(()=>{const t=new kt;return t.closed=!0,t})();const lw=kt.EMPTY;function uw(t){return t instanceof kt||t&&"closed"in t&&pe(t.remove)&&pe(t.add)&&pe(t.unsubscribe)}function cw(t){pe(t)?t():t.unsubscribe()}const Qr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cl={setTimeout(t,e,...n){const{delegate:r}=Cl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Cl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function dw(t){Cl.setTimeout(()=>{const{onUnhandledError:e}=Qr;if(!e)throw t;e(t)})}function hw(){}const wx=Bd("C",void 0,void 0);function Bd(t,e,n){return{kind:t,value:e,error:n}}let Zr=null;function Dl(t){if(Qr.useDeprecatedSynchronousErrorHandling){const e=!Zr;if(e&&(Zr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Zr;if(Zr=null,n)throw r}}else t()}class Vd extends kt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uw(e)&&e.add(this)):this.destination=Ax}static create(e,n,r){return new vo(e,n,r)}next(e){this.isStopped?Hd(function Cx(t){return Bd("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Hd(function Ex(t){return Bd("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hd(wx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const bx=Function.prototype.bind;function jd(t,e){return bx.call(t,e)}class Tx{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){bl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){bl(r)}else bl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){bl(n)}}}class vo extends Vd{constructor(e,n,r){let i;if(super(),pe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jd(e.next,s),error:e.error&&jd(e.error,s),complete:e.complete&&jd(e.complete,s)}):i=e}this.destination=new Tx(i)}}function bl(t){Qr.useDeprecatedSynchronousErrorHandling?function Dx(t){Qr.useDeprecatedSynchronousErrorHandling&&Zr&&(Zr.errorThrown=!0,Zr.error=t)}(t):dw(t)}function Hd(t,e){const{onStoppedNotification:n}=Qr;n&&Cl.setTimeout(()=>n(t,e))}const Ax={closed:!0,next:hw,error:function Sx(t){throw t},complete:hw},Wd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Jr(t){return t}function fw(t){return 0===t.length?Jr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Px(t){return t&&t instanceof Vd||function Rx(t){return t&&pe(t.next)&&pe(t.error)&&pe(t.complete)}(t)&&uw(t)}(n)?n:new vo(n,r,i);return Dl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=pw(r))((i,s)=>{const o=new vo({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Wd](){return this}pipe(...n){return fw(n)(this)}toPromise(n){return new(n=pw(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function pw(t){var e;return null!==(e=t??Qr.Promise)&&void 0!==e?e:Promise}const xx=yo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Vn=(()=>{class t extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new gw(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xx}next(n){Dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?lw:(this.currentObservers=null,s.push(n),new kt(()=>{this.currentObservers=null,Gi(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return t.create=(e,n)=>new gw(e,n),t})();class gw extends Vn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:lw}}function mw(t){return pe(t?.lift)}function We(t){return e=>{if(mw(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ze(t,e,n,r,i){return new kx(t,e,n,r,i)}class kx extends Vd{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function J(t,e){return We((n,r)=>{let i=0;n.subscribe(ze(r,s=>{r.next(t.call(e,s,i++))}))})}function yw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Xr(t){return this instanceof Xr?(this.v=t,this):new Xr(t)}function Lx(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Xr?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Fx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Iw(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const ww=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ew(t){return pe(t?.then)}function Cw(t){return pe(t[Wd])}function Dw(t){return Symbol.asyncIterator&&pe(t?.[Symbol.asyncIterator])}function bw(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Tw=function $x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Sw(t){return pe(t?.[Tw])}function Aw(t){return Lx(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Xr(n.read());if(i)return yield Xr(void 0);yield yield Xr(r)}}finally{n.releaseLock()}})}function Mw(t){return pe(t?.getReader)}function wn(t){if(t instanceof Pe)return t;if(null!=t){if(Cw(t))return function Bx(t){return new Pe(e=>{const n=t[Wd]();if(pe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ww(t))return function Vx(t){return new Pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Ew(t))return function jx(t){return new Pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,dw)})}(t);if(Dw(t))return Rw(t);if(Sw(t))return function Hx(t){return new Pe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Mw(t))return function Wx(t){return Rw(Aw(t))}(t)}throw bw(t)}function Rw(t){return new Pe(e=>{(function zx(t,e){var n,r,i,s;return function Nx(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Fx(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function jn(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Qe(t,e,n=1/0){return pe(e)?Qe((r,i)=>J((s,o)=>e(r,s,i,o))(wn(t(r,i))),n):("number"==typeof e&&(n=e),We((r,i)=>function Gx(t,e,n,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=m=>u<r?p(m):l.push(m),p=m=>{s&&e.next(m),u++;let _=!1;wn(n(m,c++)).subscribe(ze(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;l.length&&u<r;){const v=l.shift();o?jn(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(ze(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function qi(t=1/0){return Qe(Jr,t)}const Hn=new Pe(t=>t.complete());function Gd(t){return t[t.length-1]}function Io(t){return function Kx(t){return t&&pe(t.schedule)}(Gd(t))?t.pop():void 0}function Tl(t,e=0){return We((n,r)=>{n.subscribe(ze(r,i=>jn(r,t,()=>r.next(i),e),()=>jn(r,t,()=>r.complete(),e),i=>jn(r,t,()=>r.error(i),e)))})}function Sl(t,e=0){return We((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Pw(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pe(n=>{jn(n,e,()=>{const r=t[Symbol.asyncIterator]();jn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Fe(t,e){return e?function nk(t,e){if(null!=t){if(Cw(t))return function Zx(t,e){return wn(t).pipe(Sl(e),Tl(e))}(t,e);if(ww(t))return function Xx(t,e){return new Pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Ew(t))return function Jx(t,e){return wn(t).pipe(Sl(e),Tl(e))}(t,e);if(Dw(t))return Pw(t,e);if(Sw(t))return function ek(t,e){return new Pe(n=>{let r;return jn(n,e,()=>{r=t[Tw](),jn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>pe(r?.return)&&r.return()})}(t,e);if(Mw(t))return function tk(t,e){return Pw(Aw(t),e)}(t,e)}throw bw(t)}(t,e):wn(t)}function qd(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new vo({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function he(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(he).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Yd(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const sk=de({__forward_ref__:de});function Qd(t){return t.__forward_ref__=Qd,t.toString=function(){return he(this())},t}function N(t){return Zd(t)?t():t}function Zd(t){return"function"==typeof t&&t.hasOwnProperty(sk)&&t.__forward_ref__===Qd}function Jd(t){return t&&!!t.\u0275providers}class b extends Error{constructor(e,n){super(function Al(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function $(t){return"string"==typeof t?t:null==t?"":String(t)}function Ml(t,e){throw new b(-201,!1)}function Gt(t,e){null==t&&function oe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rl(t){return kw(t,Pl)||kw(t,Ow)}function kw(t,e){return t.hasOwnProperty(e)?t[e]:null}function Nw(t){return t&&(t.hasOwnProperty(Xd)||t.hasOwnProperty(pk))?t[Xd]:null}const Pl=de({\u0275prov:de}),Xd=de({\u0275inj:de}),Ow=de({ngInjectableDef:de}),pk=de({ngInjectorDef:de});var O=(()=>((O=O||{})[O.Default=0]="Default",O[O.Host=1]="Host",O[O.Self=2]="Self",O[O.SkipSelf=4]="SkipSelf",O[O.Optional=8]="Optional",O))();let eh;function qt(t){const e=eh;return eh=t,e}function Lw(t,e,n){const r=Rl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==e?e:void Ml(he(t))}const ge=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wo={},th="__NG_DI_FLAG__",xl="ngTempTokenPath",_k=/\n/gm,Fw="__source";let Eo;function Ki(t){const e=Eo;return Eo=t,e}function vk(t,e=O.Default){if(void 0===Eo)throw new b(-203,!1);return null===Eo?Lw(t,void 0,e):Eo.get(t,e&O.Optional?null:void 0,e)}function R(t,e=O.Default){return(function gk(){return eh}()||vk)(N(t),e)}function te(t,e=O.Default){return R(t,kl(e))}function kl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nh(t){const e=[];for(let n=0;n<t.length;n++){const r=N(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=O.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Ik(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function Co(t,e){return t[th]=e,t.prototype[th]=e,t}function Ik(t){return t[th]}function Er(t){return{toString:t}.toString()}var sn=(()=>((sn=sn||{})[sn.OnPush=0]="OnPush",sn[sn.Default=1]="Default",sn))(),En=(()=>{return(t=En||(En={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",En;var t})();const Wn={},ie=[],Nl=de({\u0275cmp:de}),rh=de({\u0275dir:de}),ih=de({\u0275pipe:de}),$w=de({\u0275mod:de}),zn=de({\u0275fac:de}),Do=de({__NG_ELEMENT_ID__:de});let Ck=0;function Ol(t){return Er(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ie,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||En.Emulated,id:"c"+Ck++,styles:t.styles||ie,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=jw(t.inputs,r),i.outputs=jw(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Bw).filter(Vw):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(pt).filter(Vw):null,i})}function Bw(t){return ae(t)||st(t)}function Vw(t){return null!==t}function Cn(t){return Er(()=>({type:t.type,bootstrap:t.bootstrap||ie,declarations:t.declarations||ie,imports:t.imports||ie,exports:t.exports||ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jw(t,e){if(null==t)return Wn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ft=Ol;function ae(t){return t[Nl]||null}function st(t){return t[rh]||null}function pt(t){return t[ih]||null}function Ot(t,e){const n=t[$w]||null;if(!n&&!0===e)throw new Error(`Type ${he(t)} does not have '\u0275mod' property.`);return n}const z=11;function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function an(t){return Array.isArray(t)&&!0===t[1]}function ah(t){return 0!=(4&t.flags)}function Ao(t){return t.componentOffset>-1}function Bl(t){return 1==(1&t.flags)}function ln(t){return null!==t.template}function Tk(t){return 0!=(256&t[2])}function ti(t,e){return t.hasOwnProperty(zn)?t[zn]:null}class Mk{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ni(){return Kw}function Kw(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pk),Rk}function Rk(){const t=Qw(this),e=t?.current;if(e){const n=t.previous;if(n===Wn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Pk(t,e,n,r){const i=this.declaredInputs[n],s=Qw(t)||function xk(t,e){return t[Yw]=e}(t,{previous:Wn,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Mk(l&&l.currentValue,e,a===Wn),t[r]=e}ni.ngInherit=!0;const Yw="__ngSimpleChanges__";function Qw(t){return t[Yw]||null}function Ze(t){for(;Array.isArray(t);)t=t[0];return t}function Ft(t,e){return Ze(e[t.index])}function Xw(t,e){return t.data[e]}function Ut(t,e){const n=e[t];return Lt(n)?n:n[0]}function jl(t){return 64==(64&t[2])}function Cr(t,e){return null==e?null:t[e]}function eE(t){t[18]=0}function uh(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const B={lFrame:cE(null),bindingsEnabled:!0};function nE(){return B.bindingsEnabled}function I(){return B.lFrame.lView}function X(){return B.lFrame.tView}function ri(t){return B.lFrame.contextLView=t,t[8]}function ii(t){return B.lFrame.contextLView=null,t}function Je(){let t=rE();for(;null!==t&&64===t.type;)t=t.parent;return t}function rE(){return B.lFrame.currentTNode}function bn(t,e){const n=B.lFrame;n.currentTNode=t,n.isParent=e}function ch(){return B.lFrame.isParent}function ts(){return B.lFrame.bindingIndex++}function zk(t,e){const n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,hh(e)}function hh(t){B.lFrame.currentDirectiveIndex=t}function ph(t){B.lFrame.currentQueryIndex=t}function qk(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function lE(t,e,n){if(n&O.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&O.Host||(i=qk(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=B.lFrame=uE();return r.currentTNode=e,r.lView=t,!0}function gh(t){const e=uE(),n=t[1];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function uE(){const t=B.lFrame,e=null===t?null:t.child;return null===e?cE(t):e}function cE(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function dE(){const t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const hE=dE;function mh(){const t=dE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _t(){return B.lFrame.selectedIndex}function si(t){B.lFrame.selectedIndex=t}function Ie(){B.lFrame.currentNamespace="svg"}function we(){!function Zk(){B.lFrame.currentNamespace=null}()}function Hl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Wl(t,e,n){fE(t,e,3,n)}function zl(t,e,n,r){(3&t[2])===n&&fE(t,e,n,r)}function _h(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function fE(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(eN(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function eN(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ro{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function vh(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];gE(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function pE(t){return 3===t||4===t||6===t}function gE(t){return 64===t.charCodeAt(0)}function Po(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||mE(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function mE(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function _E(t){return-1!==t}function Gl(t){return 32767&t}function ql(t,e){let n=function iN(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Ih=!0;function Kl(t){const e=Ih;return Ih=t,e}let sN=0;const Tn={};function Yl(t,e){const n=IE(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,wh(r.data,t),wh(e,null),wh(r.blueprint,null));const i=Eh(t,e),s=t.injectorIndex;if(_E(i)){const o=Gl(i),a=ql(i,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function wh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function IE(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Eh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=AE(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ch(t,e,n){!function oN(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Do)&&(r=n[Do]),null==r&&(r=n[Do]=sN++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function wE(t,e,n){if(n&O.Optional||void 0!==t)return t;Ml()}function EE(t,e,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=t[9],s=qt(void 0);try{return i?i.get(e,r,n&O.Optional):Lw(e,r,n&O.Optional)}finally{qt(s)}}return wE(r,0,n)}function CE(t,e,n,r=O.Default,i){if(null!==t){if(1024&e[2]){const o=function dN(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=DE(s,o,n,r|O.Self,Tn);if(a!==Tn)return a;let l=s.parent;if(!l){const u=o[21];if(u){const c=u.get(n,Tn,r);if(c!==Tn)return c}l=AE(o),o=o[15]}s=l}return i}(t,e,n,r,Tn);if(o!==Tn)return o}const s=DE(t,e,n,r,Tn);if(s!==Tn)return s}return EE(e,n,r,i)}function DE(t,e,n,r,i){const s=function uN(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Do)?t[Do]:void 0;return"number"==typeof e?e>=0?255&e:cN:e}(n);if("function"==typeof s){if(!lE(e,t,r))return r&O.Host?wE(i,0,r):EE(e,n,r,i);try{const o=s(r);if(null!=o||r&O.Optional)return o;Ml()}finally{hE()}}else if("number"==typeof s){let o=null,a=IE(t,e),l=-1,u=r&O.Host?e[16][6]:null;for((-1===a||r&O.SkipSelf)&&(l=-1===a?Eh(t,e):e[a+8],-1!==l&&TE(r,!1)?(o=e[1],a=Gl(l),e=ql(l,e)):a=-1);-1!==a;){const c=e[1];if(bE(s,a,c.data)){const d=lN(a,e,n,o,r,u);if(d!==Tn)return d}l=e[a+8],-1!==l&&TE(r,e[1].data[a+8]===u)&&bE(s,a,e)?(o=c,a=Gl(l),e=ql(l,e)):a=-1}}return i}function lN(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function Ql(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=o[l];if(f&&ln(f)&&f.type===n)return l}return null}(a,o,n,null==r?Ao(a)&&Ih:r!=o&&0!=(3&a.type),i&O.Host&&s===a);return null!==c?oi(e,o,c,a):Tn}function oi(t,e,n,r){let i=t[n];const s=e.data;if(function tN(t){return t instanceof Ro}(i)){const o=i;o.resolving&&function ok(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(function se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$(t)}(s[n]));const a=Kl(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?qt(o.injectImpl):null;lE(t,r,O.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Xk(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Kw(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&qt(l),Kl(a),o.resolving=!1,hE()}}return i}function bE(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function TE(t,e){return!(t&O.Self||t&O.Host&&e)}class rs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return CE(this._tNode,this._lView,e,kl(r),n)}}function cN(){return new rs(Je(),I())}function Dh(t){return Zd(t)?()=>{const e=Dh(N(t));return e&&e()}:ti(t)}function AE(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const ss="__parameters__";function as(t,e,n){return Er(()=>{const r=function bh(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(ss)?l[ss]:Object.defineProperty(l,ss,{value:[]})[ss];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class P{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ai(t,e){t.forEach(n=>Array.isArray(n)?ai(n,e):e(n))}function RE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const lt=Co(as("Optional"),8),Oo=Co(as("SkipSelf"),4);var bt=(()=>((bt=bt||{})[bt.Important=1]="Important",bt[bt.DashCase=2]="DashCase",bt))();const kh=new Map;let FN=0;const Oh="__ngContext__";function ut(t,e){Lt(e)?(t[Oh]=e[20],function $N(t){kh.set(t[20],t)}(e)):t[Oh]=e}function Fh(t,e){return undefined(t,e)}function $o(t){const e=t[3];return an(e)?e[3]:e}function Uh(t){return ZE(t[13])}function $h(t){return ZE(t[4])}function ZE(t){for(;null!==t&&!an(t);)t=t[4];return t}function cs(t,e,n,r,i){if(null!=r){let s,o=!1;an(r)?s=r:Lt(r)&&(o=!0,r=r[0]);const a=Ze(r);0===t&&null!==n?null==i?rC(e,n,a):li(e,n,a,i||null,!0):1===t&&null!==n?li(e,n,a,i||null,!0):2===t?function Gh(t,e,n){const r=nu(t,e);r&&function sO(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function lO(t,e,n,r,i){const s=n[7];s!==Ze(n)&&cs(e,t,r,s,i);for(let a=10;a<n.length;a++){const l=n[a];Bo(l[1],l,t,e,r,s)}}(e,t,s,n,i)}}function Vh(t,e,n){return t.createElement(e,n)}function XE(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,uh(i,-1)),n.splice(r,1)}function jh(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&XE(i,r),e>0&&(t[n-1][4]=r[4]);const s=Jl(t,10+e);!function ZN(t,e){Bo(t,e,e[z],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function eC(t,e){if(!(128&e[2])){const n=e[z];n.destroyNode&&Bo(t,e,n,3,null,null),function eO(t){let e=t[13];if(!e)return Hh(t[1],t);for(;e;){let n=null;if(Lt(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&Hh(e[1],e),e=e[3];null===e&&(e=t),Lt(e)&&Hh(e[1],e),n=e&&e[4]}e=n}}(e)}}function Hh(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function iO(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ro)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function rO(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[z].destroy();const n=e[17];if(null!==n&&an(e[3])){n!==e[3]&&XE(n,e);const r=e[19];null!==r&&r.detachView(t)}!function BN(t){kh.delete(t[20])}(e)}}function tC(t,e,n){return function nC(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===En.None||s===En.Emulated)return null}return Ft(r,n)}}(t,e.parent,n)}function li(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rC(t,e,n){t.appendChild(e,n)}function iC(t,e,n,r,i){null!==r?li(t,e,n,r,i):rC(t,e,n)}function nu(t,e){return t.parentNode(e)}let Yh,aC=function oC(t,e,n){return 40&t.type?Ft(t,n):null};function ru(t,e,n,r){const i=tC(t,r,e),s=e[z],a=function sC(t,e,n){return aC(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)iC(s,i,n[l],a,!1);else iC(s,i,n,a,!1)}function iu(t,e){if(null!==e){const n=e.type;if(3&n)return Ft(e,t);if(4&n)return zh(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return iu(t,r);{const i=t[e.index];return an(i)?zh(-1,i):Ze(i)}}if(32&n)return Fh(e,t)()||Ze(t[e.index]);{const r=uC(t,e);return null!==r?Array.isArray(r)?r[0]:iu($o(t[16]),r):iu(t,e.next)}}return null}function uC(t,e){return null!==e?t[16][6].projection[e.projection]:null}function zh(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return iu(r,i)}return e[7]}function qh(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&ut(Ze(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)qh(t,e,n.child,r,i,s,!1),cs(e,t,i,a,s);else if(32&l){const u=Fh(n,r);let c;for(;c=u();)cs(e,t,i,c,s);cs(e,t,i,a,s)}else 16&l?cC(t,e,r,n,i,s):cs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Bo(t,e,n,r,i,s){qh(n,r,t.firstChild,e,i,s,!1)}function cC(t,e,n,r,i,s){const o=n[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)cs(e,t,i,l[u],s);else qh(t,e,l,o[3],i,s,!0)}function dC(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hC(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&vh(t,e,r),null!==i&&dC(t,e,i),null!==s&&function cO(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}const lu=new P("ENVIRONMENT_INITIALIZER"),SC=new P("INJECTOR",-1),AC=new P("INJECTOR_DEF_TYPES");class MC{get(e,n=wo){if(n===wo){const r=new Error(`NullInjectorError: No provider for ${he(e)}!`);throw r.name="NullInjectorError",r}return n}}function FO(...t){return{\u0275providers:RC(0,t),\u0275fromNgModule:!0}}function RC(t,...e){const n=[],r=new Set;let i;return ai(e,s=>{const o=s;tf(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&PC(i,n),n}function PC(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];nf(i,s=>{e.push(s)})}}function tf(t,e,n,r){if(!(t=N(t)))return!1;let i=null,s=Nw(t);const o=!s&&ae(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=Nw(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)tf(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{ai(s.imports,c=>{tf(c,e,n,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&PC(u,e)}if(!a){const u=ti(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:ie},{provide:AC,useValue:i,multi:!0},{provide:lu,useValue:()=>R(i),multi:!0})}const l=s.providers;null==l||a||nf(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}function nf(t,e){for(let n of t)Jd(n)&&(n=n.\u0275providers),Array.isArray(n)?nf(n,e):e(n)}const UO=de({provide:String,useValue:de});function rf(t){return null!==t&&"object"==typeof t&&UO in t}function ci(t){return"function"==typeof t}const sf=new P("Set Injector scope."),uu={},BO={};let af;function cu(){return void 0===af&&(af=new MC),af}class Qn{}class NC extends Qn{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uf(e,o=>this.processProvider(o)),this.records.set(SC,ds(void 0,this)),i.has("environment")&&this.records.set(Qn,ds(void 0,this));const s=this.records.get(sf);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(AC.multi,ie,O.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Ki(this),r=qt(void 0);try{return e()}finally{Ki(n),qt(r)}}get(e,n=wo,r=O.Default){this.assertNotDestroyed(),r=kl(r);const i=Ki(this),s=qt(void 0);try{if(!(r&O.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function zO(t){return"function"==typeof t||"object"==typeof t&&t instanceof P}(e)&&Rl(e);a=l&&this.injectableDefInScope(l)?ds(lf(e),uu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&O.Self?cu():this.parent).get(e,n=r&O.Optional&&n===wo?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[xl]=o[xl]||[]).unshift(he(e)),i)throw o;return function wk(t,e,n,r){const i=t[xl];throw e[Fw]&&i.unshift(e[Fw]),t.message=function Ek(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=he(e);if(Array.isArray(e))i=e.map(he).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):he(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_k,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[xl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{qt(s),Ki(i)}}resolveInjectorInitializers(){const e=Ki(this),n=qt(void 0);try{const r=this.get(lu.multi,ie,O.Self);for(const i of r)i()}finally{Ki(e),qt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(he(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=ci(e=N(e))?e:N(e&&e.provide);const r=function jO(t){return rf(t)?ds(void 0,t.useValue):ds(function OC(t,e,n){let r;if(ci(t)){const i=N(t);return ti(i)||lf(i)}if(rf(t))r=()=>N(t.useValue);else if(function kC(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...nh(t.deps||[]));else if(function xC(t){return!(!t||!t.useExisting)}(t))r=()=>R(N(t.useExisting));else{const i=N(t&&(t.useClass||t.provide));if(!function HO(t){return!!t.deps}(t))return ti(i)||lf(i);r=()=>new i(...nh(t.deps))}return r}(t),uu)}(e);if(ci(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ds(void 0,uu,!0),i.factory=()=>nh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===uu&&(n.value=BO,n.value=n.factory()),"object"==typeof n.value&&n.value&&function WO(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=N(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function lf(t){const e=Rl(t),n=null!==e?e.factory:ti(t);if(null!==n)return n;if(t instanceof P)throw new b(204,!1);if(t instanceof Function)return function VO(t){const e=t.length;if(e>0)throw function No(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function hk(t){const e=t&&(t[Pl]||t[Ow]);if(e){const n=function fk(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function ds(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function uf(t,e){for(const n of t)Array.isArray(n)?uf(n,e):n&&Jd(n)?uf(n.\u0275providers,e):e(n)}class GO{}class LC{}class KO{resolveComponentFactory(e){throw function qO(t){const e=Error(`No component factory found for ${he(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Wo=(()=>{class t{}return t.NULL=new KO,t})();function YO(){return hs(Je(),I())}function hs(t,e){return new br(Ft(t,e))}let br=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=YO,t})();class UC{}let JO=(()=>{class t{}return t.\u0275prov=U({token:t,providedIn:"root",factory:()=>null}),t})();class zo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const $C=new zo("15.0.3"),cf={};function hf(t){return t.ngOriginalError}class fs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&hf(e);for(;n&&hf(n);)n=hf(n);return n||null}}function Zn(t){return t instanceof Function?t():t}function VC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const jC="ng-template";function uL(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==VC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function HC(t){return 4===t.type&&t.value!==jC}function cL(t,e,n){return e===(4!==t.type||n?t.value:jC)}function dL(t,e,n){let r=4;const i=t.attrs||[],s=function pL(t){for(let e=0;e<t.length;e++)if(pE(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!cL(t,l,n)||""===l&&1===e.length){if(un(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!uL(t.attrs,u,n)){if(un(r))return!1;o=!0}continue}const d=hL(8&r?"class":l,i,HC(t),n);if(-1===d){if(un(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==VC(f,u,0)||2&r&&u!==h){if(un(r))return!1;o=!0}}}}else{if(!o&&!un(r)&&!un(l))return!1;if(o&&un(l))continue;o=!1,r=l|1&r}}return un(r)||o}function un(t){return 0==(1&t)}function hL(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function gL(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function WC(t,e,n=!1){for(let r=0;r<e.length;r++)if(dL(t,e[r],n))return!0;return!1}function zC(t,e){return t?":not("+e.trim()+")":e}function _L(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!un(o)&&(e+=zC(s,i),i=""),r=o,s=s||!un(r);n++}return""!==i&&(e+=zC(s,i)),e}const V={};function Tr(t){GC(X(),I(),_t()+t,!1)}function GC(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Wl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&zl(e,s,0,n)}si(n)}function QC(t,e=null,n=null,r){const i=ZC(t,e,n,r);return i.resolveInjectorInitializers(),i}function ZC(t,e=null,n=null,r,i=new Set){const s=[n||ie,FO(t)];return r=r||("object"==typeof t?void 0:he(t)),new NC(s,e||cu(),r||null,i)}let Bt=(()=>{class t{static create(n,r){if(Array.isArray(n))return QC({name:""},r,n,"");{const i=n.name??"";return QC({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=wo,t.NULL=new MC,t.\u0275prov=U({token:t,providedIn:"any",factory:()=>R(SC)}),t.__NG_ELEMENT_ID__=-1,t})();function L(t,e=O.Default){const n=I();return null===n?R(t,e):CE(Je(),n,N(t),e)}function o0(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];ph(i),o.contentQueries(2,e[s],s)}}}function fu(t,e,n,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||t&&1024&t[2])&&(d[2]|=1024),eE(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[z]=a||t&&t[z],d[12]=l||t&&t[12]||null,d[9]=u||t&&t[9]||null,d[6]=s,d[20]=function UN(){return FN++}(),d[21]=c,d[16]=2==e.type?t[16]:d,d}function ms(t,e,n,r,i){let s=t.data[e];if(null===s)s=function _f(t,e,n,r,i){const s=rE(),o=ch(),l=t.data[e]=function HL(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,e,n,r,i),function Wk(){return B.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Mo(){const t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return bn(s,!0),s}function Go(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function yf(t,e,n){gh(e);try{const r=t.viewQuery;null!==r&&Af(1,r,n);const i=t.template;null!==i&&a0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&o0(t,e),t.staticViewQueries&&Af(2,t.viewQuery,n);const s=t.components;null!==s&&function BL(t,e){for(let n=0;n<e.length;n++)lF(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,mh()}}function pu(t,e,n,r){const i=e[2];if(128!=(128&i)){gh(e);try{eE(e),function sE(t){return B.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&a0(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&Wl(e,u,null)}else{const u=t.preOrderHooks;null!==u&&zl(e,u,0,null),_h(e,0)}if(function oF(t){for(let e=Uh(t);null!==e;e=$h(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&uh(s,1),i[2]|=512}}}(e),function sF(t){for(let e=Uh(t);null!==e;e=$h(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];jl(r)&&pu(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&o0(t,e),o){const u=t.contentCheckHooks;null!==u&&Wl(e,u)}else{const u=t.contentHooks;null!==u&&zl(e,u,1),_h(e,1)}!function UL(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)si(~i);else{const s=i,o=n[++r],a=n[++r];zk(o,s),a(2,e[s])}}}finally{si(-1)}}(t,e);const a=t.components;null!==a&&function $L(t,e){for(let n=0;n<e.length;n++)aF(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Af(2,l,r),o){const u=t.viewCheckHooks;null!==u&&Wl(e,u)}else{const u=t.viewHooks;null!==u&&zl(e,u,2),_h(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,uh(e[3],-1))}finally{mh()}}}function a0(t,e,n,r,i){const s=_t(),o=2&r;try{si(-1),o&&e.length>22&&GC(t,e,22,!1),n(r,i)}finally{si(s)}}function vf(t,e,n){if(ah(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function If(t,e,n){!nE()||(function YL(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ao(n)&&function nF(t,e,n){const r=Ft(e,t),i=l0(n),s=t[10],o=gu(t,fu(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Yl(n,e),ut(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=oi(e,t,a,n);ut(u,e),null!==o&&rF(0,a-i,u,l,0,o),ln(l)&&(Ut(n.index,e)[8]=oi(e,t,a,n))}}(t,e,n,Ft(n,e)),64==(64&n.flags)&&p0(t,e,n))}function wf(t,e,n=Ft){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function l0(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ef(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ef(t,e,n,r,i,s,o,a,l,u){const c=22+r,d=c+i,h=function VL(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:V);return n}(c,d),f="function"==typeof u?u():u;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function c0(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?d0(n,e,i,s):r.hasOwnProperty(i)&&d0(n,e,r[i],s)}return n}function d0(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function h0(t,e){const n=Ut(e,t);16&n[2]||(n[2]|=32)}function Cf(t,e,n,r){let i=!1;if(nE()){const s=null===r?null:{"":-1},o=function ZL(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(WC(e,o.selectors,!1))if(r||(r=[]),ln(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Df(t,e,a.length)}else r.unshift(o),Df(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let a,l;null===o?a=l=null:[a,l]=o,null!==a&&(i=!0,f0(t,e,n,a,s,l)),s&&function JL(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,s)}return n.mergedAttrs=Po(n.mergedAttrs,n.attrs),i}function f0(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Ch(Yl(n,e),t,r[u].type);!function eF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=Go(t,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=Po(n.mergedAttrs,c.hostAttrs),tF(t,n,e,l,c),XL(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function WL(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],h=n?n.get(d):null,p=h?h.outputs:null;l=c0(d.inputs,c,l,h?h.inputs:null),u=c0(d.outputs,c,u,p);const m=null===l||null===o||HC(e)?null:iF(l,c,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,s)}function p0(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Gk(){return B.lFrame.currentDirectiveIndex}();try{si(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];hh(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&QL(l,u)}}finally{si(-1),hh(o)}}function QL(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Df(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function XL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ln(e)&&(n[""]=t)}}function tF(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ti(i.type)),o=new Ro(s,ln(i),L);t.blueprint[r]=o,n[r]=o,function qL(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function KL(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Go(t,n,i.hostVars,V),i)}function rF(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(n,d,u,c):n[c]=d}}}function iF(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function g0(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function aF(t,e){const n=Ut(e,t);if(jl(n)){const r=n[1];48&n[2]?pu(r,n,r.template,n[8]):n[5]>0&&Tf(n)}}function Tf(t){for(let r=Uh(t);null!==r;r=$h(r))for(let i=10;i<r.length;i++){const s=r[i];if(jl(s))if(512&s[2]){const o=s[1];pu(o,s,o.template,s[8])}else s[5]>0&&Tf(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ut(n[r],t);jl(i)&&i[5]>0&&Tf(i)}}function lF(t,e){const n=Ut(e,t),r=n[1];(function uF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),yf(r,n,n[8])}function gu(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Sf(t){for(;t;){t[2]|=32;const e=$o(t);if(Tk(t)&&!e)return t;t=e}return null}function mu(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{pu(t,e,t.template,n)}catch(o){throw r&&v0(e,o),o}finally{i.end&&i.end()}}function Af(t,e,n){ph(0),e(t,n)}function m0(t){return t[7]||(t[7]=[])}function _0(t){return t.cleanup||(t.cleanup=[])}function v0(t,e){const n=t[9],r=n?n.get(fs,null):null;r&&r.handleError(e)}function Mf(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Jn(t,e,n){const r=function Vl(t,e){return Ze(e[t])}(e,t);!function JE(t,e,n){t.setValue(e,n)}(t[z],r,n)}function _u(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Yd(i,a):2==s&&(r=Yd(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function yu(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ze(s)),an(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&yu(l[1],l,u,r)}const o=n.type;if(8&o)yu(t,e,n.child,r);else if(32&o){const a=Fh(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=uC(e,n);if(Array.isArray(a))r.push(...a);else{const l=$o(e[16]);yu(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class qo{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return yu(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(an(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(jh(e,r),Jl(n,r))}this._attachedToViewContainer=!1}eC(this._lView[1],this._lView)}onDestroy(e){!function u0(t,e,n,r){const i=m0(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&_0(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){mu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function XN(t,e){Bo(t,e,e[z],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class cF extends qo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;mu(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class I0 extends Wo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ae(e);return new Ko(n,this.ngModule)}}function w0(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class hF{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=kl(r);const i=this.injector.get(e,cf,r);return i!==cf||n===cf?i:this.parentInjector.get(e,n,r)}}class Ko extends LC{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function yL(t){return t.map(_L).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return w0(this.componentDef.inputs)}get outputs(){return w0(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Qn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new hF(e,s):e,a=o.get(UC,null);if(null===a)throw new b(407,!1);const l=o.get(JO,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function jL(t,e,n){return t.selectRootElement(e,n===En.ShadowDom)}(u,r,this.componentDef.encapsulation):Vh(u,c,function dF(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=Ef(0,null,null,1,0,null,null,null,null,null),p=fu(null,f,null,h,null,null,a,u,l,o,null);let m,_;gh(p);try{const v=this.componentDef;let w,y=null;v.findHostDirectiveDefs?(w=[],y=new Map,v.findHostDirectiveDefs(v,w,y),w.push(v)):w=[v];const M=function pF(t,e){const n=t[1];return t[22]=e,ms(n,22,2,"#host",null)}(p,d),ce=function gF(t,e,n,r,i,s,o,a){const l=i[1];!function mF(t,e,n,r){for(const i of t)e.mergedAttrs=Po(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(_u(e,e.mergedAttrs,!0),null!==n&&hC(r,n,e))}(r,t,e,o);const u=s.createRenderer(e,n),c=fu(i,l0(n),null,n.onPush?32:16,i[t.index],t,s,u,a||null,null,null);return l.firstCreatePass&&Df(l,t,r.length-1),gu(i,c),i[t.index]=c}(M,d,v,w,p,a,u);_=Xw(f,22),d&&function yF(t,e,n,r){if(r)vh(t,n,["ng-version",$C.full]);else{const{attrs:i,classes:s}=function vL(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!un(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&vh(t,n,i),s&&s.length>0&&dC(t,n,s.join(" "))}}(u,v,d,r),void 0!==n&&function vF(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),m=function _F(t,e,n,r,i,s){const o=Je(),a=i[1],l=Ft(o,i);f0(a,i,o,n,null,r);for(let c=0;c<n.length;c++)ut(oi(i,a,o.directiveStart+c,o),i);p0(a,i,o),l&&ut(l,i);const u=oi(i,a,o.directiveStart+o.componentOffset,o);if(t[8]=i[8]=u,null!==s)for(const c of s)c(u,e);return vf(a,o,t),u}(ce,v,w,y,p,[IF]),yf(f,p,null)}finally{mh()}return new fF(this.componentType,m,hs(_,p),p,_)}}class fF extends GO{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new cF(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Mf(s[1],s,i,e,n),h0(s,this._tNode.index)}}get injector(){return new rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function IF(){const t=Je();Hl(I()[1],t)}function ct(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function fi(t,e,n,r,i,s,o,a){const l=I(),u=X(),c=t+22,d=u.firstCreatePass?function NF(t,e,n,r,i,s,o,a,l){const u=e.consts,c=ms(e,t,4,o||null,Cr(u,a));Cf(e,n,c,Cr(u,l)),Hl(e,c);const d=c.tViews=Ef(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,s,o):u.data[c];bn(d,!1);const h=l[z].createComment("");ru(u,l,h,d),ut(h,l),gu(l,l[c]=g0(h,l,h,d)),Bl(d)&&If(u,l,d),null!=o&&wf(l,d,a)}function Sr(t){return function es(t,e){return t[e]}(function Hk(){return B.lFrame.contextLView}(),22+t)}function Ar(t,e,n){const r=I();return ct(r,ts(),e)&&function Vt(t,e,n,r,i,s,o,a){const l=Ft(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(Mf(t,n,c,r,i),Ao(e)&&h0(n,e.index)):3&e.type&&(r=function zL(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(X(),function be(){const t=B.lFrame;return Xw(t.tView,t.selectedIndex)}(),r,t,e,r[z],n,!1),Ar}function kf(t,e,n,r,i){const o=i?"class":"style";Mf(t,n,e.inputs[o],o,r)}function D(t,e,n,r){const i=I(),s=X(),o=22+t,a=i[z],l=i[o]=Vh(a,e,function Jk(){return B.lFrame.currentNamespace}()),u=s.firstCreatePass?function LF(t,e,n,r,i,s,o){const a=e.consts,u=ms(e,t,2,i,Cr(a,s));return Cf(e,n,u,Cr(a,o)),null!==u.attrs&&_u(u,u.attrs,!1),null!==u.mergedAttrs&&_u(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];return bn(u,!0),hC(a,l,u),32!=(32&u.flags)&&ru(s,i,l,u),0===function Uk(){return B.lFrame.elementDepthCount}()&&ut(l,i),function $k(){B.lFrame.elementDepthCount++}(),Bl(u)&&(If(s,i,u),vf(s,u,i)),null!==r&&wf(i,u),D}function A(){let t=Je();ch()?function dh(){B.lFrame.isParent=!1}():(t=t.parent,bn(t,!1));const e=t;!function Bk(){B.lFrame.elementDepthCount--}();const n=X();return n.firstCreatePass&&(Hl(n,t),ah(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function nN(t){return 0!=(8&t.flags)}(e)&&kf(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function rN(t){return 0!=(16&t.flags)}(e)&&kf(n,e,I(),e.stylesWithoutHost,!1),A}function ee(t,e,n,r){return D(t,e,n,r),A(),ee}function wu(t){return!!t&&"function"==typeof t.then}const $0=function U0(t){return!!t&&"function"==typeof t.subscribe};function Xn(t,e,n,r){const i=I(),s=X(),o=Je();return function V0(t,e,n,r,i,s,o){const a=Bl(r),u=t.firstCreatePass&&_0(t),c=e[8],d=m0(e);let h=!0;if(3&r.type||o){const m=Ft(r,e),_=o?o(m):m,v=d.length,w=o?M=>o(Ze(M[r.index])):r.index;let y=null;if(!o&&a&&(y=function UF(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,h=!1;else{s=H0(r,e,c,s,!1);const M=n.listen(_,i,s);d.push(s,M),u&&u.push(i,w,v,v+1)}}else s=H0(r,e,c,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let _=0;_<m;_+=2){const ce=e[p[_]][p[_+1]].subscribe(s),Ee=d.length;d.push(s,ce),u&&u.push(i,r.index,Ee,-(Ee+1))}}}(s,i,i[z],o,t,e,r),Xn}function j0(t,e,n,r){try{return!1!==n(r)}catch(i){return v0(t,i),!1}}function H0(t,e,n,r,i){return function s(o){if(o===Function)return r;Sf(t.componentOffset>-1?Ut(t.index,e):e);let l=j0(e,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=j0(e,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function ne(t,e=""){const n=I(),r=X(),i=t+22,s=r.firstCreatePass?ms(r,i,1,e,null):r.data[i],o=n[i]=function Bh(t,e){return t.createText(e)}(n[z],e);ru(r,n,o,s),bn(s,!1)}function Du(t,e,n){const r=I(),i=function ys(t,e,n,r){return ct(t,ts(),n)?e+$(n)+r:V}(r,t,e,n);return i!==V&&Jn(r,_t(),i),Du}const As="en-US";let LD=As;class Ms{}class lb{}class ub extends Ms{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new I0(this);const r=Ot(e);this._bootstrapComponents=Zn(r.bootstrap),this._r3Injector=ZC(e,n,[{provide:Ms,useValue:this},{provide:Wo,useValue:this.componentFactoryResolver}],he(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qf extends lb{constructor(e){super(),this.moduleType=e}create(e){return new ub(this.moduleType,e)}}class RU extends Ms{constructor(e,n,r){super(),this.componentFactoryResolver=new I0(this),this.instance=null;const i=new NC([...e,{provide:Ms,useValue:this},{provide:Wo,useValue:this.componentFactoryResolver}],n||cu(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Mu(t,e,n=null){return new RU(t,e,n).injector}let PU=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=RC(0,n.type),i=r.length>0?Mu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(R(Qn))}),t})();function cb(t){t.getStandaloneInjector=e=>e.get(PU).getOrCreateStandaloneInjector(t)}function Yf(t){return e=>{setTimeout(t,void 0,e)}}const vt=class r3 extends Vn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Yf(s),i&&(i=Yf(i)),o&&(o=Yf(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof kt&&e.add(a),a}};let er=(()=>{class t{}return t.__NG_ELEMENT_ID__=a3,t})();const s3=er,o3=class extends s3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=fu(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),yf(r,i,e),new qo(i)}};function a3(){return function Ru(t,e){return 4&t.type?new o3(e,t,hs(t,e)):null}(Je(),I())}let hn=(()=>{class t{}return t.__NG_ELEMENT_ID__=l3,t})();function l3(){return function Db(t,e){let n;const r=e[t.index];if(an(r))n=r;else{let i;if(8&t.type)i=Ze(r);else{const s=e[z];i=s.createComment("");const o=Ft(t,e);li(s,nu(s,o),i,function oO(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=g0(r,e,i,t),gu(e,n)}return new Eb(n,t,e)}(Je(),I())}const u3=hn,Eb=class extends u3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return hs(this._hostTNode,this._hostLView)}get injector(){return new rs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Eh(this._hostTNode,this._hostLView);if(_E(e)){const n=ql(e,this._hostLView),r=Gl(e);return new rs(n[1].data[r+8],n)}return new rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Cb(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function ko(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Ko(ae(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?u:this.parentInjector).get(Qn,null);h&&(s=h)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function Fk(t){return an(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new Eb(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function tO(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],RE(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function nO(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=zh(s,o),l=r[z],u=nu(l,o[7]);return null!==u&&function JN(t,e,n,r,i,s){r[0]=i,r[6]=e,Bo(t,r,n,1,i,s)}(i,o[6],l,r,u,a),e.attachToViewContainerRef(),RE(Zf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Cb(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=jh(this._lContainer,n);r&&(Jl(Zf(this._lContainer),n),eC(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=jh(this._lContainer,n);return r&&null!=Jl(Zf(this._lContainer),n)?new qo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Cb(t){return t[8]}function Zf(t){return t[8]||(t[8]=[])}function xu(...t){}const ku=new P("Application Initializer");let Nu=(()=>{class t{constructor(n){this.appInits=n,this.resolve=xu,this.reject=xu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(wu(s))n.push(s);else if($0(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(R(ku,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const oa=new P("AppId",{providedIn:"root",factory:function Zb(){return`${ap()}${ap()}${ap()}`}});function ap(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jb=new P("Platform Initializer"),Ou=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xb=new P("appBootstrapListener");let F3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const tr=new P("LocaleId",{providedIn:"root",factory:()=>te(tr,O.Optional|O.SkipSelf)||function U3(){return typeof $localize<"u"&&$localize.locale||As}()});class B3{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let eT=(()=>{class t{compileModuleSync(n){return new qf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Zn(Ot(n).declarations).reduce((o,a)=>{const l=ae(a);return l&&o.push(new Ko(l)),o},[]);return new B3(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const H3=(()=>Promise.resolve(0))();function lp(t){typeof Zone>"u"?H3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ce{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vt(!1),this.onMicrotaskEmpty=new vt(!1),this.onStable=new vt(!1),this.onError=new vt(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function W3(){let t=ge.requestAnimationFrame,e=ge.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function q3(t){const e=()=>{!function G3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cp(t),t.isCheckStableRunning=!0,up(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return rT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),iT(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return rT(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),iT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,cp(t),up(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ce.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Ce.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,z3,xu,xu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const z3={};function up(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iT(t){t._nesting--,up(t)}class K3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vt,this.onMicrotaskEmpty=new vt,this.onStable=new vt,this.onError=new vt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const sT=new P(""),Lu=new P("");let fp,dp=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fp||(function Y3(t){fp=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),lp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lp(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(R(Ce),R(hp),R(Lu))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})(),hp=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return fp?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Rr=null;const oT=new P("AllowMultipleToken"),pp=new P("PlatformDestroyListeners");class aT{constructor(e,n){this.name=e,this.token=n}}function uT(t,e,n=[]){const r=`Platform: ${e}`,i=new P(r);return(s=[])=>{let o=gp();if(!o||o.injector.get(oT,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function J3(t){if(Rr&&!Rr.get(oT,!1))throw new b(400,!1);Rr=t;const e=t.get(dT);(function lT(t){const e=t.get(Jb,null);e&&e.forEach(n=>n())})(t)}(function cT(t=[],e){return Bt.create({name:e,providers:[{provide:sf,useValue:"platform"},{provide:pp,useValue:new Set([()=>Rr=null])},...t]})}(a,r))}return function e$(t){const e=gp();if(!e)throw new b(401,!1);return e}()}}function gp(){return Rr?.get(dT)??null}let dT=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function fT(t,e){let n;return n="noop"===t?new K3:("zone.js"===t?void 0:t)||new Ce(e),n}(r?.ngZone,function hT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ce,useValue:i}];return i.run(()=>{const o=Bt.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(fs,null);if(!l)throw new b(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{Uu(this._modules,a),u.unsubscribe()})}),function pT(t,e,n){try{const r=n();return wu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(Nu);return u.runInitializers(),u.donePromise.then(()=>(function FD(t){Gt(t,"Expected localeId to be defined"),"string"==typeof t&&(LD=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(tr,As)||As),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=gT({},r);return function Q3(t,e,n){const r=new qf(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Fu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(pp,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(R(Bt))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function gT(t,e){return Array.isArray(e)?e.reduce(gT,t):{...t,...e}}let Fu=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Pe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Pe(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),lp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function rk(...t){const e=Io(t),n=function Qx(t,e){return"number"==typeof Gd(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?wn(r[0]):qi(n)(Fe(r,e)):Hn}(s,o.pipe(function ik(t={}){const{connector:e=(()=>new Vn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,c=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return We((m,_)=>{u++,!d&&!c&&h();const v=l=l??e();_.add(()=>{u--,0===u&&!d&&!c&&(a=qd(p,i))}),v.subscribe(_),!o&&u>0&&(o=new vo({next:w=>v.next(w),error:w=>{d=!0,h(),a=qd(f,n,w),v.error(w)},complete:()=>{c=!0,h(),a=qd(f,r),v.complete()}}),wn(m).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof LC;if(!this._injector.get(Nu).done)throw!i&&function Yi(t){const e=ae(t)||st(t)||pt(t);return null!==e&&e.standalone}(n),new b(405,false);let o;o=i?n:this._injector.get(Wo).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function Z3(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Ms),u=o.create(Bt.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(sT,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Uu(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Uu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Xb,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Uu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(R(Ce),R(Qn),R(fs))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Uu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let mp=(()=>{class t{}return t.__NG_ELEMENT_ID__=n$,t})();function n$(t){return function r$(t,e,n){if(Ao(t)&&!n){const r=Ut(t.index,e);return new qo(r,r)}return 47&t.type?new qo(e[16],e):null}(Je(),I(),16==(16&t))}const m$=uT(null,"core",[]);let _$=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(R(Fu))},t.\u0275mod=Cn({type:t}),t.\u0275inj=rn({}),t})(),Ep=null;function Pr(){return Ep}class I${}const St=new P("DocumentToken");let Cp=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:function(){return function w$(){return R(TT)}()},providedIn:"platform"}),t})();const E$=new P("Location Initialized");let TT=(()=>{class t extends Cp{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pr().getBaseHref(this._doc)}onPopState(n){const r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){ST()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){ST()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(R(St))},t.\u0275prov=U({token:t,factory:function(){return function C$(){return new TT(R(St))}()},providedIn:"platform"}),t})();function ST(){return!!window.history.pushState}function Dp(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function AT(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function rr(t){return t&&"?"!==t[0]?"?"+t:t}let _i=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:function(){return te(RT)},providedIn:"root"}),t})();const MT=new P("appBaseHref");let RT=(()=>{class t extends _i{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??te(St).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Dp(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+rr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+rr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+rr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(R(Cp),R(MT,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),D$=(()=>{class t extends _i{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Dp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+rr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+rr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(R(Cp),R(MT,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})(),bp=(()=>{class t{constructor(n){this._subject=new vt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function S$(t){if(/^(https?:)?\/\//.test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(AT(PT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+rr(r))}normalize(n){return t.stripTrailingSlash(function T$(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._basePath,PT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=rr,t.joinWithSlash=Dp,t.stripTrailingSlash=AT,t.\u0275fac=function(n){return new(n||t)(R(_i))},t.\u0275prov=U({token:t,factory:function(){return function b$(){return new bp(R(_i))}()},providedIn:"root"}),t})();function PT(t){return t.replace(/\/index.html$/,"")}class Op{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Zu=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const r=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(n)}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ft({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),WT=(()=>{class t{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new Op(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(n){return new(n||t)(L(hn),L(er),L(Zu,9))},t.\u0275dir=ft({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),zT=(()=>{class t{constructor(n,r,i){i._addDefault(new Op(n,r))}}return t.\u0275fac=function(n){return new(n||t)(L(hn),L(er),L(Zu,9))},t.\u0275dir=ft({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})(),W4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Cn({type:t}),t.\u0275inj=rn({}),t})();let K4=(()=>{class t{}return t.\u0275prov=U({token:t,providedIn:"root",factory:()=>new Y4(R(St),window)}),t})();class Y4{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Q4(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=YT(this.window.history)||YT(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function YT(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class DB extends I${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bp extends DB{static makeCurrent(){!function v$(t){Ep||(Ep=t)}(new Bp)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function bB(){return da=da||document.querySelector("base"),da?da.getAttribute("href"):null}();return null==n?null:function TB(t){Xu=Xu||document.createElement("a"),Xu.setAttribute("href",t);const e=Xu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){da=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function c4(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Xu,da=null;const tS=new P("TRANSITION_ID"),AB=[{provide:ku,useFactory:function SB(t,e,n){return()=>{n.get(Nu).donePromise.then(()=>{const r=Pr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[tS,St,Bt],multi:!0}];let RB=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();const ec=new P("EventManagerPlugins");let tc=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(R(ec),R(Ce))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();class nS{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Pr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let rS=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})(),ha=(()=>{class t extends rS{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(iS),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(iS))}}return t.\u0275fac=function(n){return new(n||t)(R(St))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();function iS(t){Pr().remove(t)}const Vp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jp=/%COMP%/g;function Hp(t,e){return e.flat(100).map(n=>n.replace(jp,t))}function aS(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Wp=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zp(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case En.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new LB(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case En.ShadowDom:return new FB(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Hp(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(R(tc),R(ha),R(oa))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();class zp{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Vp[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(uS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(uS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Vp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Vp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(bt.DashCase|bt.Important)?e.style.setProperty(n,r,i&bt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&bt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,aS(r)):this.eventManager.addEventListener(e,n,aS(r))}}function uS(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class LB extends zp{constructor(e,n,r,i){super(e),this.component=r;const s=Hp(i+"-"+r.id,r.styles);n.addStyles(s),this.contentAttr=function kB(t){return"_ngcontent-%COMP%".replace(jp,t)}(i+"-"+r.id),this.hostAttr=function NB(t){return"_nghost-%COMP%".replace(jp,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class FB extends zp{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Hp(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let UB=(()=>{class t extends nS{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(R(St))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();const cS=["alt","control","meta","shift"],$B={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let VB=(()=>{class t extends nS{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),cS.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=$B[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),cS.forEach(o=>{o!==i&&(0,BB[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(R(St))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();const zB=uT(m$,"browser",[{provide:Ou,useValue:"browser"},{provide:Jb,useValue:function jB(){Bp.makeCurrent()},multi:!0},{provide:St,useFactory:function WB(){return function pO(t){Yh=t}(document),document},deps:[]}]),fS=new P(""),pS=[{provide:Lu,useClass:class MB{addToWindow(e){ge.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),ge.getAllAngularRootElements=()=>e.getAllRootElements(),ge.frameworkStabilizers||(ge.frameworkStabilizers=[]),ge.frameworkStabilizers.push(r=>{const i=ge.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Pr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:sT,useClass:dp,deps:[Ce,hp,Lu]},{provide:dp,useClass:dp,deps:[Ce,hp,Lu]}],gS=[{provide:sf,useValue:"root"},{provide:fs,useFactory:function HB(){return new fs},deps:[]},{provide:ec,useClass:UB,multi:!0,deps:[St,Ce,Ou]},{provide:ec,useClass:VB,multi:!0,deps:[St]},{provide:Wp,useClass:Wp,deps:[tc,ha,oa]},{provide:UC,useExisting:Wp},{provide:rS,useExisting:ha},{provide:ha,useClass:ha,deps:[St]},{provide:tc,useClass:tc,deps:[ec,Ce]},{provide:class Z4{},useClass:RB,deps:[]},[]];let GB=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:oa,useValue:n.appId},{provide:tS,useExisting:oa},AB]}}}return t.\u0275fac=function(n){return new(n||t)(R(fS,12))},t.\u0275mod=Cn({type:t}),t.\u0275inj=rn({providers:[...gS,...pS],imports:[W4,_$]}),t})(),mS=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(R(St))},t.\u0275prov=U({token:t,factory:function(n){let r=null;return r=n?new n:function KB(){return new mS(R(St))}(),r},providedIn:"root"}),t})();function k(...t){return Fe(t,Io(t))}typeof window<"u"&&window;class mn extends Vn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const nc=yo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:nV}=Array,{getPrototypeOf:rV,prototype:iV,keys:sV}=Object;const{isArray:lV}=Array;function vS(...t){const e=Io(t),n=function Yx(t){return pe(Gd(t))?t.pop():void 0}(t),{args:r,keys:i}=function oV(t){if(1===t.length){const e=t[0];if(nV(e))return{args:e,keys:null};if(function aV(t){return t&&"object"==typeof t&&rV(t)===iV}(e)){const n=sV(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Fe([],e);const s=new Pe(function hV(t,e,n=Jr){return r=>{IS(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)IS(e,()=>{const u=Fe(t[l],e);let c=!1;u.subscribe(ze(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function dV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Jr));return n?s.pipe(function cV(t){return J(e=>function uV(t,e){return lV(e)?t(...e):t(e)}(t,e))}(n)):s}function IS(t,e,n){t?jn(n,t,e):e()}function Kp(...t){return function fV(){return qi(1)}()(Fe(t,Io(t)))}function wS(t){return new Pe(e=>{wn(t()).subscribe(e)})}function fa(t,e){const n=pe(t)?t:()=>t,r=i=>i.error(n());return new Pe(e?i=>e.schedule(r,0,i):r)}function Yp(){return We((t,e)=>{let n=null;t._refCount++;const r=ze(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class ES extends Pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kt;const n=this.getSubject();e.add(this.source.subscribe(ze(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kt.EMPTY)}return e}refCount(){return Yp()(this)}}function Pn(t,e){return We((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ze(r,l=>{i?.unsubscribe();let u=0;const c=s++;wn(t(l,c)).subscribe(i=ze(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function pa(t){return t<=0?()=>Hn:We((e,n)=>{let r=0;e.subscribe(ze(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kr(t,e){return We((n,r)=>{let i=0;n.subscribe(ze(r,s=>t.call(e,s,i++)&&r.next(s)))})}function rc(t){return We((e,n)=>{let r=!1;e.subscribe(ze(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function CS(t=gV){return We((e,n)=>{let r=!1;e.subscribe(ze(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function gV(){return new nc}function Nr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kr((i,s)=>t(i,s,r)):Jr,pa(1),n?rc(e):CS(()=>new nc))}function yi(t,e){return pe(e)?Qe(t,e,1):Qe(t,1)}function Xe(t,e,n){const r=pe(t)||e||n?{next:t,error:e,complete:n}:t;return r?We((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ze(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Jr}function Or(t){return We((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ze(n,void 0,void 0,o=>{s=wn(t(o,Or(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function mV(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(ze(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function DS(t,e){return We(mV(t,e,arguments.length>=2,!0))}function Qp(t){return t<=0?()=>Hn:We((e,n)=>{let r=[];e.subscribe(ze(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function bS(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kr((i,s)=>t(i,s,r)):Jr,Qp(1),n?rc(e):CS(()=>new nc))}function Zp(t){return We((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const G="primary",ga=Symbol("RouteTitle");class vV{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function xs(t){return new vV(t)}function IV(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!TS(t[i],e[i]))return!1;return!0}function TS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function SS(t){return Array.prototype.concat.apply([],t)}function AS(t){return t.length>0?t[t.length-1]:null}function et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Lr(t){return $0(t)?t:wu(t)?Fe(Promise.resolve(t)):k(t)}const ic=!1,EV={exact:function PS(t,e,n){if(!Ii(t.segments,e.segments)||!sc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!PS(t.children[r],e.children[r],n))return!1;return!0},subset:xS},MS={exact:function CV(t,e){return xn(t,e)},subset:function DV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>TS(t[n],e[n]))},ignored:()=>!0};function RS(t,e,n){return EV[n.paths](t.root,e.root,n.matrixParams)&&MS[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function xS(t,e,n){return kS(t,e,e.segments,n)}function kS(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ii(i,n)||e.hasChildren()||!sc(i,n,r))}if(t.segments.length===n.length){if(!Ii(t.segments,n)||!sc(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!xS(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ii(t.segments,i)&&sc(t.segments,i,r)&&t.children[G])&&kS(t.children[G],e,s,r)}}function sc(t,e,n){return e.every((r,i)=>MS[n](t[i].parameters,r.parameters))}class vi{constructor(e=new Y([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xs(this.queryParams)),this._queryParamMap}toString(){return SV.serialize(this)}}class Y{constructor(e,n){this.segments=e,this.children=n,this.parent=null,et(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oc(this)}}class ma{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=xs(this.parameters)),this._parameterMap}toString(){return LS(this)}}function Ii(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let _a=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:function(){return new Jp},providedIn:"root"}),t})();class Jp{parse(e){const n=new LV(e);return new vi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ya(e.root,!0)}`,r=function RV(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${ac(n)}=${ac(i)}`).join("&"):`${ac(n)}=${ac(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function AV(t){return encodeURI(t)}(e.fragment)}`:""}`}}const SV=new Jp;function oc(t){return t.segments.map(e=>LS(e)).join("/")}function ya(t,e){if(!t.hasChildren())return oc(t);if(e){const n=t.children[G]?ya(t.children[G],!1):"",r=[];return et(t.children,(i,s)=>{s!==G&&r.push(`${s}:${ya(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function TV(t,e){let n=[];return et(t.children,(r,i)=>{i===G&&(n=n.concat(e(r,i)))}),et(t.children,(r,i)=>{i!==G&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===G?[ya(t.children[G],!1)]:[`${i}:${ya(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[G]?`${oc(t)}/${n[0]}`:`${oc(t)}/(${n.join("//")})`}}function NS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ac(t){return NS(t).replace(/%3B/gi,";")}function Xp(t){return NS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lc(t){return decodeURIComponent(t)}function OS(t){return lc(t.replace(/\+/g,"%20"))}function LS(t){return`${Xp(t.path)}${function MV(t){return Object.keys(t).map(e=>`;${Xp(e)}=${Xp(t[e])}`).join("")}(t.parameters)}`}const PV=/^[^\/()?;=#]+/;function uc(t){const e=t.match(PV);return e?e[0]:""}const xV=/^[^=?&#]+/,NV=/^[^&#]+/;class LV{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[G]=new Y(e,n)),r}parseSegment(){const e=uc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,ic);return this.capture(e),new ma(lc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=uc(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=uc(this.remaining);i&&(r=i,this.capture(r))}e[lc(n)]=lc(r)}parseQueryParam(e){const n=function kV(t){const e=t.match(xV);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function OV(t){const e=t.match(NV);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=OS(n),s=OS(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,ic);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=G);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[G]:new Y([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,ic)}}function eg(t){return t.segments.length>0?new Y([],{[G]:t}):t}function cc(t){const e={};for(const r of Object.keys(t.children)){const s=cc(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function FV(t){if(1===t.numberOfChildren&&t.children[G]){const e=t.children[G];return new Y(t.segments.concat(e.segments),e.children)}return t}(new Y(t.segments,e))}function wi(t){return t instanceof vi}function BV(t,e,n,r,i){if(0===n.length)return ks(e.root,e.root,e.root,r,i);const s=function $S(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new US(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return et(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new US(n,e,r)}(n);return s.toRoot()?ks(e.root,e.root,new Y([],{}),r,i):function o(l){const u=function jV(t,e,n,r){if(t.isAbsolute)return new Ns(e.root,!0,0);if(-1===r)return new Ns(n,n===e.root,0);return function BS(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Ns(r,!1,i-s)}(n,r+(va(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,l),c=u.processChildren?wa(u.segmentGroup,u.index,s.commands):ng(u.segmentGroup,u.index,s.commands);return ks(e.root,u.segmentGroup,c,r,i)}(t.snapshot?._lastPathIndex)}function va(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ia(t){return"object"==typeof t&&null!=t&&t.outlets}function ks(t,e,n,r,i){let o,s={};r&&et(r,(l,u)=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=t===e?n:FS(t,e,n);const a=eg(cc(o));return new vi(a,s,i)}function FS(t,e,n){const r={};return et(t.children,(i,s)=>{r[s]=i===e?n:FS(i,e,n)}),new Y(t.segments,r)}class US{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&va(r[0]))throw new b(4003,!1);const i=r.find(Ia);if(i&&i!==AS(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ns{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function ng(t,e,n){if(t||(t=new Y([],{})),0===t.segments.length&&t.hasChildren())return wa(t,e,n);const r=function WV(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ia(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!jS(l,u,o))return s;r+=2}else{if(!jS(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Y(t.segments.slice(0,r.pathIndex),{});return s.children[G]=new Y(t.segments.slice(r.pathIndex),t.children),wa(s,0,i)}return r.match&&0===i.length?new Y(t.segments,{}):r.match&&!t.hasChildren()?rg(t,e,n):r.match?wa(t,0,i):rg(t,e,n)}function wa(t,e,n){if(0===n.length)return new Y(t.segments,{});{const r=function HV(t){return Ia(t[0])?t[0].outlets:{[G]:t}}(n),i={};return et(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=ng(t.children[o],e,s))}),et(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Y(t.segments,i)}}function rg(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ia(s)){const l=zV(s.outlets);return new Y(r,l)}if(0===i&&va(n[0])){r.push(new ma(t.segments[e].path,VS(n[0]))),i++;continue}const o=Ia(s)?s.outlets[G]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&va(a)?(r.push(new ma(o,VS(a))),i+=2):(r.push(new ma(o,{})),i++)}return new Y(r,{})}function zV(t){const e={};return et(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=rg(new Y([],{}),0,n))}),e}function VS(t){const e={};return et(t,(n,r)=>e[r]=`${n}`),e}function jS(t,e,n){return t==n.path&&xn(e,n.parameters)}class sr{constructor(e,n){this.id=e,this.url=n}}class ig extends sr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ei extends sr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dc extends sr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class HS extends sr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GV extends sr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qV extends sr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KV extends sr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YV extends sr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QV extends sr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZV{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class JV{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class XV{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ej{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tj{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nj{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WS{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=sg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=sg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=og(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return og(e,this._root).map(n=>n.value)}}function sg(t,e){if(t===e.value)return e;for(const n of e.children){const r=sg(t,n);if(r)return r}return null}function og(t,e){if(t===e.value)return[e];for(const n of e.children){const r=og(t,n);if(r.length)return r.unshift(e),r}return[]}class or{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Os(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class GS extends zS{constructor(e,n){super(e),this.snapshot=n,ag(this,e)}toString(){return this.snapshot.toString()}}function qS(t,e){const n=function ij(t,e){const o=new hc([],{},{},"",{},G,e,null,t.root,-1,{});return new YS("",new or(o,[]))}(t,e),r=new mn([new ma("",{})]),i=new mn({}),s=new mn({}),o=new mn({}),a=new mn(""),l=new Ls(r,i,o,a,s,G,e,n.root);return l.snapshot=n.root,new GS(new or(l,[]),n)}class Ls{constructor(e,n,r,i,s,o,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(J(u=>u[ga]))??k(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(J(e=>xs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(J(e=>xs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KS(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function sj(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class hc{constructor(e,n,r,i,s,o,a,l,u,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get title(){return this.data?.[ga]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YS extends zS{constructor(e,n){super(n),this.url=e,ag(this,n)}toString(){return QS(this._root)}}function ag(t,e){e.value._routerState=t,e.children.forEach(n=>ag(t,n))}function QS(t){const e=t.children.length>0?` { ${t.children.map(QS).join(", ")} } `:"";return`${t.value}${e}`}function lg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),xn(e.params,n.params)||t.params.next(n.params),function wV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),xn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ug(t,e){const n=xn(t.params,e.params)&&function bV(t,e){return Ii(t,e)&&t.every((n,r)=>xn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ug(t.parent,e.parent))}function Ea(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function aj(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ea(t,r,i);return Ea(t,r)})}(t,e,n);return new or(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ea(t,a)),o}}const r=function lj(t){return new Ls(new mn(t.url),new mn(t.params),new mn(t.queryParams),new mn(t.fragment),new mn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ea(t,s));return new or(r,i)}}const cg="ngNavigationCancelingError";function ZS(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=wi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JS(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function JS(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[cg]=!0,r.cancellationCode=e,n&&(r.url=n),r}function XS(t){return eA(t)&&wi(t.url)}function eA(t){return t&&t[cg]}class uj{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ca,this.attachRef=null}}let Ca=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new uj,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fc=!1;let dg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=G,this.activateEvents=new vt,this.deactivateEvents=new vt,this.attachEvents=new vt,this.detachEvents=new vt,this.parentContexts=te(Ca),this.location=te(hn),this.changeDetector=te(mp),this.environmentInjector=te(Qn)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,fc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,fc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,fc);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,fc);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new cj(n,a,i.injector);if(r&&function dj(t){return!!t.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ft({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ni]}),t})();class cj{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ls?this.route:e===Ca?this.childContexts:this.parent.get(e,n)}}let hg=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ol({type:t,selectors:[["ng-component"]],standalone:!0,features:[cb],decls:1,vars:0,template:function(n,r){1&n&&ee(0,"router-outlet")},dependencies:[dg],encapsulation:2}),t})();function tA(t,e){return t.providers&&!t._injector&&(t._injector=Mu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function pg(t){const e=t.children&&t.children.map(pg),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==G&&(n.component=hg),n}function Xt(t){return t.outlet||G}function nA(t,e){const n=t.filter(r=>Xt(r)===e);return n.push(...t.filter(r=>Xt(r)!==e)),n}function Da(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class mj{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),lg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Os(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),et(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Os(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Os(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Os(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new nj(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ej(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(lg(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),lg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Da(i.snapshot),l=a?.get(Wo)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class rA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pc{constructor(e,n){this.component=e,this.route=n}}function _j(t,e,n){const r=t._root;return ba(r,e?e._root:null,n,[r.value])}function Fs(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function dk(t){return null!==Rl(t)}(t)?e.get(t):t:r}function ba(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Os(e);return t.children.forEach(o=>{(function vj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Ij(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ii(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ii(t.url,e.url)||!xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ug(t,e)||!xn(t.queryParams,e.queryParams);default:return!ug(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new rA(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ba(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pc(a.outlet.component,o))}else o&&Ta(e,a,i),i.canActivateChecks.push(new rA(r)),ba(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),et(s,(o,a)=>Ta(o,n.getContext(a),i)),i}function Ta(t,e,n){const r=Os(t),i=t.value;et(r,(s,o)=>{Ta(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new pc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Sa(t){return"function"==typeof t}function gg(t){return t instanceof nc||"EmptyError"===t?.name}const gc=Symbol("INITIAL_VALUE");function Us(){return Pn(t=>vS(t.map(e=>e.pipe(pa(1),function pV(...t){const e=Io(t);return We((n,r)=>{(e?Kp(t,n,e):Kp(t,n)).subscribe(r)})}(gc)))).pipe(J(e=>{for(const n of e)if(!0!==n){if(n===gc)return gc;if(!1===n||n instanceof vi)return n}return!0}),kr(e=>e!==gc),pa(1)))}function iA(t){return function Mx(...t){return fw(t)}(Xe(e=>{if(wi(e))throw ZS(0,e)}),J(e=>!0===e))}const mg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sA(t,e,n,r,i){const s=_g(t,e,n);return s.matched?function Fj(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?k(i.map(o=>{const a=Fs(o,t);return Lr(function Tj(t){return t&&Sa(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Us(),iA()):k(!0)}(r=tA(e,r),e,n).pipe(J(o=>!0===o?s:{...mg})):k(s)}function _g(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...mg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||IV)(n,t,e);if(!i)return{...mg};const s={};et(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function mc(t,e,n,r){if(n.length>0&&function Bj(t,e,n){return n.some(r=>_c(t,e,r)&&Xt(r)!==G)}(t,n,r)){const s=new Y(e,function $j(t,e,n,r){const i={};i[G]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Xt(s)!==G){const o=new Y([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Xt(s)]=o}return i}(t,e,r,new Y(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function Vj(t,e,n){return n.some(r=>_c(t,e,r))}(t,n,r)){const s=new Y(t.segments,function Uj(t,e,n,r,i){const s={};for(const o of r)if(_c(t,n,o)&&!i[Xt(o)]){const a=new Y([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[Xt(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new Y(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function _c(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function oA(t,e,n,r){return!!(Xt(t)===r||r!==G&&_c(e,n,t))&&("**"===t.path||_g(e,t,n).matched)}function aA(t,e,n){return 0===e.length&&!t.children[n]}const yc=!1;class vc{constructor(e){this.segmentGroup=e||null}}class lA{constructor(e){this.urlTree=e}}function Aa(t){return fa(new vc(t))}function uA(t){return fa(new lA(t))}class zj{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=mc(this.urlTree.root,[],[],this.config).segmentGroup,n=new Y(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,G).pipe(J(s=>this.createUrlTree(cc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Or(s=>{if(s instanceof lA)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof vc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,G).pipe(J(i=>this.createUrlTree(cc(i),e.queryParams,e.fragment))).pipe(Or(i=>{throw i instanceof vc?this.noMatchError(i):i}))}noMatchError(e){return new b(4002,yc)}createUrlTree(e,n,r){const i=eg(e);return new vi(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(J(s=>new Y([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Fe(i).pipe(yi(s=>{const o=r.children[s],a=nA(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(J(l=>({segment:l,outlet:s})))}),DS((s,o)=>(s[o.outlet]=o.segment,s),{}),bS())}expandSegment(e,n,r,i,s,o){return Fe(r).pipe(yi(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Or(u=>{if(u instanceof vc)return k(null);throw u}))),Nr(a=>!!a),Or((a,l)=>{if(gg(a))return aA(n,i,s)?k(new Y([],{})):Aa(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return oA(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Aa(n):Aa(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uA(s):this.lineralizeSegments(r,s).pipe(Qe(o=>{const a=new Y(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=_g(n,i,s);if(!a)return Aa(n);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?uA(d):this.lineralizeSegments(i,d).pipe(Qe(h=>this.expandSegment(e,n,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=tA(r,e),r.loadChildren?(r._loadedRoutes?k({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(J(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Y(i,{})))):k(new Y(i,{}))):sA(n,r,i,e).pipe(Pn(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Qe(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=mc(n,a,l,h),m=new Y(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(J(y=>new Y(a,y)));if(0===h.length&&0===p.length)return k(new Y(a,{}));const _=Xt(r)===s;return this.expandSegment(d,m,h,p,_?G:s,!0).pipe(J(w=>new Y(a.concat(w.segments),w.children)))})):Aa(n)))}getChildConfig(e,n,r){return n.children?k({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?k({routes:n._loadedRoutes,injector:n._loadedInjector}):function Lj(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?k(!0):k(i.map(o=>{const a=Fs(o,t);return Lr(function Ej(t){return t&&Sa(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Us(),iA())}(e,n,r).pipe(Qe(i=>i?this.configLoader.loadChildren(e,n).pipe(Xe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Hj(t){return fa(JS(yc,3))}())):k({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return k(r);if(i.numberOfChildren>1||!i.children[G])return fa(new b(4e3,yc));i=i.children[G]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new vi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return et(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return et(n.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Y(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,yc);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class qj{}class Qj{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=mc(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,G).pipe(J(n=>{if(null===n)return null;const r=new hc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},G,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new or(r,n),s=new YS(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=KS(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return Fe(Object.keys(r.children)).pipe(yi(i=>{const s=r.children[i],o=nA(n,i);return this.processSegmentGroup(e,o,s,i)}),DS((i,s)=>i&&s?(i.push(...s),i):null),function _V(t,e=!1){return We((n,r)=>{let i=0;n.subscribe(ze(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),rc(null),bS(),J(i=>{if(null===i)return null;const s=dA(i);return function Zj(t){t.sort((e,n)=>e.value.outlet===G?-1:n.value.outlet===G?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return Fe(n).pipe(yi(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Nr(o=>!!o),Or(o=>{if(gg(o))return aA(r,i,s)?k([]):k(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!oA(n,r,i,s))return k(null);let o;if("**"===n.path){const a=i.length>0?AS(i).parameters:{},l=fA(r)+i.length;o=k({snapshot:new hc(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pA(n),Xt(n),n.component??n._loadedComponent??null,n,hA(r),l,gA(n)),consumedSegments:[],remainingSegments:[]})}else o=sA(r,n,i,e).pipe(J(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const d=fA(r)+l.length;return{snapshot:new hc(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pA(n),Xt(n),n.component??n._loadedComponent??null,n,hA(r),d,gA(n)),consumedSegments:l,remainingSegments:u}}));return o.pipe(Pn(a=>{if(null===a)return k(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function Jj(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=mc(r,u,c,h.filter(_=>void 0===_.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(J(_=>null===_?null:[new or(l,_)]));if(0===h.length&&0===p.length)return k([new or(l,[])]);const m=Xt(n)===s;return this.processSegment(d,h,f,p,m?G:s).pipe(J(_=>null===_?null:[new or(l,_)]))}))}}function Xj(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function dA(t){const e=[],n=new Set;for(const r of t){if(!Xj(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=dA(r.children);e.push(new or(r.value,i))}return e.filter(r=>!n.has(r))}function hA(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fA(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function pA(t){return t.data||{}}function gA(t){return t.resolve||{}}function mA(t){return"string"==typeof t.title||null===t.title}function yg(t){return Pn(e=>{const n=t(e);return n?Fe(n).pipe(J(()=>e)):k(e)})}const $s=new P("ROUTES");let vg=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return k(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Lr(n.loadComponent()).pipe(J(yA),Xe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Zp(()=>{this.componentLoaders.delete(n)})),i=new ES(r,()=>new Vn).pipe(Yp());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return k({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(J(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=SS(l.get($s,[],O.Self|O.Optional)));return{routes:u.map(pg),injector:l}}),Zp(()=>{this.childrenLoaders.delete(r)})),o=new ES(s,()=>new Vn).pipe(Yp());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Lr(n()).pipe(J(yA),Qe(i=>i instanceof lb||Array.isArray(i)?k(i):Fe(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)(R(Bt),R(eT))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yA(t){return function l6(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Ig=(()=>{class t{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Vn,this.configLoader=te(vg),this.environmentInjector=te(Qn),this.urlSerializer=te(_a),this.rootContexts=te(Ca),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new JV(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ZV(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new mn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kr(r=>0!==r.id),J(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Pn(r=>{let i=!1,s=!1;return k(r).pipe(Xe(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pn(o=>{const a=n.browserUrlTree.toString(),l=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(("reload"===n.onSameUrlNavigation||l)&&n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return IA(o.source)&&(n.browserUrlTree=o.extractedUrl),k(o).pipe(Pn(c=>{const d=this.transitions?.getValue();return this.events.next(new ig(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Hn:Promise.resolve(c)}),function Gj(t,e,n,r){return Pn(i=>function Wj(t,e,n,r,i){return new zj(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(J(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Xe(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},r.urlAfterRedirects=c.urlAfterRedirects}),function t6(t,e,n,r,i){return Qe(s=>function Yj(t,e,n,r,i,s,o="emptyOnly"){return new Qj(t,e,n,r,i,o,s).recognize().pipe(Pn(a=>null===a?function Kj(t){return new Pe(e=>e.error(t))}(new qj):k(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(J(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,n.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Xe(c=>{if(r.targetSnapshot=c.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);n.setBrowserUrl(h,c)}n.browserUrlTree=c.urlAfterRedirects}const d=new GV(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&n.rawUrlTree&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=o,_=new ig(d,this.urlSerializer.serialize(h),f,p);this.events.next(_);const v=qS(h,n.rootComponentType).snapshot;return k(r={...o,targetSnapshot:v,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return n.rawUrlTree=o.rawUrl,o.resolve(null),Hn}),Xe(o=>{const a=new qV(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),J(o=>r={...o,guards:_j(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function Aj(t,e){return Qe(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?k({...n,guardsResult:!0}):function Mj(t,e,n,r){return Fe(t).pipe(Qe(i=>function Oj(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?k(s.map(a=>{const l=Da(e)??i,u=Fs(a,l);return Lr(function bj(t){return t&&Sa(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):l.runInContext(()=>u(t,e,n,r))).pipe(Nr())})).pipe(Us()):k(!0)}(i.component,i.route,n,e,r)),Nr(i=>!0!==i,!0))}(o,r,i,t).pipe(Qe(a=>a&&function wj(t){return"boolean"==typeof t}(a)?function Rj(t,e,n,r){return Fe(e).pipe(yi(i=>Kp(function xj(t,e){return null!==t&&e&&e(new XV(t)),k(!0)}(i.route.parent,r),function Pj(t,e){return null!==t&&e&&e(new tj(t)),k(!0)}(i.route,r),function Nj(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function yj(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>wS(()=>k(o.guards.map(l=>{const u=Da(o.node)??n,c=Fs(l,u);return Lr(function Dj(t){return t&&Sa(t.canActivateChild)}(c)?c.canActivateChild(r,t):u.runInContext(()=>c(r,t))).pipe(Nr())})).pipe(Us())));return k(s).pipe(Us())}(t,i.path,n),function kj(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return k(!0);const i=r.map(s=>wS(()=>{const o=Da(e)??n,a=Fs(s,o);return Lr(function Cj(t){return t&&Sa(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Nr())}));return k(i).pipe(Us())}(t,i.route,n))),Nr(i=>!0!==i,!0))}(r,s,t,e):k(a)),J(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Xe(o=>{if(r.guardsResult=o.guardsResult,wi(o.guardsResult))throw ZS(0,o.guardsResult);const a=new KV(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),kr(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3,n),!1)),yg(o=>{if(o.guards.canActivateChecks.length)return k(o).pipe(Xe(a=>{const l=new YV(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Pn(a=>{let l=!1;return k(a).pipe(function n6(t,e){return Qe(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let s=0;return Fe(i).pipe(yi(o=>function r6(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!mA(i)&&(s[ga]=i.title),function i6(t,e,n,r){const i=function s6(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return k({});const s={};return Fe(i).pipe(Qe(o=>function o6(t,e,n,r){const i=Da(e)??r,s=Fs(t,i);return Lr(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Nr(),Xe(a=>{s[o]=a}))),Qp(1),function yV(t){return J(()=>t)}(s),Or(o=>gg(o)?Hn:fa(o)))}(s,t,e,r).pipe(J(o=>(t._resolvedData=o,t.data=KS(t,n).resolve,i&&mA(i)&&(t.data[ga]=i.title),null)))}(o.route,r,t,e)),Xe(()=>s++),Qp(1),Qe(o=>s===i.length?k(n):Hn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2,n))}}))}),Xe(a=>{const l=new QV(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),yg(o=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Xe(c=>{l.component=c}),J(()=>{})));for(const c of l.children)u.push(...a(c));return u};return vS(a(o.targetSnapshot.root)).pipe(rc(),pa(1))}),yg(()=>n.afterPreactivation()),J(o=>{const a=function oj(t,e,n){const r=Ea(t,e._root,n?n._root:void 0);return new GS(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Xe(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>J(r=>(new mj(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Xe({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Ei(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Zp(()=>{i||s||this.cancelNavigationTransition(r,"",1,n),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Or(o=>{if(s=!0,eA(o)){XS(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new dc(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),XS(o)){const l=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||IA(r.source)};n.scheduleNavigation(l,"imperative",null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new HS(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(l){r.reject(l)}}return Hn}))}))}cancelNavigationTransition(n,r,i,s){const o=new dc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function IA(t){return"imperative"!==t}let wA=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===G);return r}getResolvedTitleForRoute(n){return n.data[ga]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:function(){return te(u6)},providedIn:"root"}),t})(),u6=(()=>{class t extends wA{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(R(mS))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),c6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:function(){return te(h6)},providedIn:"root"}),t})();class d6{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let h6=(()=>{class t extends d6{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function SE(t){return Er(()=>{const e=t.prototype.constructor,n=e[zn]||Dh(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[zn]||Dh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ic=new P("",{providedIn:"root",factory:()=>({})});let p6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:function(){return te(g6)},providedIn:"root"}),t})(),g6=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function m6(t){throw t}function _6(t,e,n){return e.parse("/")}const y6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jt=(()=>{class t{constructor(){this.disposed=!1,this.currentPageId=0,this.console=te(F3),this.isNgZoneEnabled=!1,this.options=te(Ic,{optional:!0})||{},this.errorHandler=this.options.errorHandler||m6,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_6,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>k(void 0),this.urlHandlingStrategy=te(p6),this.routeReuseStrategy=te(c6),this.titleStrategy=te(wA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=SS(te($s,{optional:!0})??[]),this.navigationTransitions=te(Ig),this.urlSerializer=te(_a),this.location=te(bp),this.rootComponentType=null,this.isNgZoneEnabled=te(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qS(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(n.state){const a={...n.state};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(pg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),BV(u,this.currentUrlTree,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=wi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function I6(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new b(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...y6}:!1===r?{...v6}:r,wi(n))return RS(this.currentUrlTree,n,i);const s=this.parseUrl(n);return RS(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u,c;return o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,l=h}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),c=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):c=0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class CA{}let C6=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(kr(n=>n instanceof Ei),yi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Mu(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Fe(i).pipe(qi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):k(null);const s=i.pipe(Qe(o=>null===o?k(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Fe([s,this.loader.loadComponent(r)]).pipe(qi()):s})}}return t.\u0275fac=function(n){return new(n||t)(R(jt),R(eT),R(Qn),R(CA),R(vg))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Eg=new P("");let DA=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ig?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ei&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof WS&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new WS(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function s0(){throw new Error("invalid")}()},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();function Vs(t,e){return{\u0275kind:t,\u0275providers:e}}function TA(){const t=te(Bt);return e=>{const n=t.get(Fu);if(e!==n.components[0])return;const r=t.get(jt),i=t.get(SA);1===t.get(Dg)&&r.initialNavigation(),t.get(AA,null,O.Optional)?.setUpPreloading(),t.get(Eg,null,O.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const SA=new P("",{factory:()=>new Vn}),Dg=new P("",{providedIn:"root",factory:()=>1});const AA=new P("");function A6(t){return Vs(0,[{provide:AA,useExisting:C6},{provide:CA,useExisting:t}])}const MA=new P("ROUTER_FORROOT_GUARD"),M6=[bp,{provide:_a,useClass:Jp},jt,Ca,{provide:Ls,useFactory:function bA(t){return t.routerState.root},deps:[jt]},vg,[]];function R6(){return new aT("Router",jt)}let RA=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[M6,[],{provide:$s,multi:!0,useValue:n},{provide:MA,useFactory:N6,deps:[[jt,new lt,new Oo]]},{provide:Ic,useValue:r||{}},r?.useHash?{provide:_i,useClass:D$}:{provide:_i,useClass:RT},{provide:Eg,useFactory:()=>{const t=te(K4),e=te(Ce),n=te(Ic),r=te(Ig),i=te(_a);return n.scrollOffset&&t.setOffset(n.scrollOffset),new DA(i,r,t,e,n)}},r?.preloadingStrategy?A6(r.preloadingStrategy).\u0275providers:[],{provide:aT,multi:!0,useFactory:R6},r?.initialNavigation?O6(r):[],[{provide:PA,useFactory:TA},{provide:Xb,multi:!0,useExisting:PA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:$s,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(R(MA,8))},t.\u0275mod=Cn({type:t}),t.\u0275inj=rn({imports:[hg]}),t})();function N6(t){return"guarded"}function O6(t){return["disabled"===t.initialNavigation?Vs(3,[{provide:ku,multi:!0,useFactory:()=>{const e=te(jt);return()=>{e.setUpLocationChangeListener()}}},{provide:Dg,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Vs(2,[{provide:Dg,useValue:0},{provide:ku,multi:!0,deps:[Bt],useFactory:e=>{const n=e.get(E$,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=e.get(jt),o=e.get(SA);(function r(i){e.get(jt).events.pipe(kr(o=>o instanceof Ei||o instanceof dc||o instanceof HS),J(o=>o instanceof Ei||o instanceof dc&&(0===o.code||1===o.code)&&null),kr(o=>null!==o),pa(1)).subscribe(()=>{i()})})(()=>{i(!0)}),s.afterPreactivation=()=>(i(!0),o.closed?k(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const PA=new P("");class js{}function U6(t,e){1&t&&(D(0,"pre"),ne(1,"ng generate component xyz"),A())}function $6(t,e){1&t&&(D(0,"pre"),ne(1,"ng add @angular/material"),A())}function B6(t,e){1&t&&(D(0,"pre"),ne(1,"ng add @angular/pwa"),A())}function V6(t,e){1&t&&(D(0,"pre"),ne(1,"ng add _____"),A())}function j6(t,e){1&t&&(D(0,"pre"),ne(1,"ng test"),A())}function H6(t,e){1&t&&(D(0,"pre"),ne(1,"ng build"),A())}js.\u0275fac=function(e){return new(e||js)},js.\u0275mod=Cn({type:js}),js.\u0275inj=rn({imports:[RA.forRoot([]),RA]});class Ra{constructor(){this.title="Front-end"}}function xA(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){xA(s,r,i,o,a,"next",l)}function a(l){xA(s,r,i,o,a,"throw",l)}o(void 0)})}}Ra.\u0275fac=function(e){return new(e||Ra)},Ra.\u0275cmp=Ol({type:Ra,selectors:[["app-root"]],decls:152,vars:7,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/angular","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/angular","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(141 696)","fill","#dd0031"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["id","Path_33","data-name","Path 33","d","M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z","transform","translate(0.371 3.363)","fill","#fff"],["id","Path_34","data-name","Path 34","d","M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z","transform","translate(0 0.005)","fill","#fff"],["id","rocket-smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],["target","_blank","rel","noopener","href","https://angular.io/tutorial",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["target","_blank","rel","noopener","href","https://angular.io/cli",1,"card"],["d","M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"],["target","_blank","rel","noopener","href","https://material.angular.io",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","21.813","height","23.453","viewBox","0 0 179.2 192.7",2,"margin-right","8px"],["fill","#ffa726","d","M89.4 0 0 32l13.5 118.4 75.9 42.3 76-42.3L179.2 32 89.4 0z"],["fill","#fb8c00","d","M89.4 0v192.7l76-42.3L179.2 32 89.4 0z"],["fill","#ffe0b2","d","m102.9 146.3-63.3-30.5 36.3-22.4 63.7 30.6-36.7 22.3z"],["fill","#fff3e0","d","M102.9 122.8 39.6 92.2l36.3-22.3 63.7 30.6-36.7 22.3z"],["fill","#fff","d","M102.9 99.3 39.6 68.7l36.3-22.4 63.7 30.6-36.7 22.4z"],["target","_blank","rel","noopener","href","https://blog.angular.io/",1,"card"],["d","M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"],["target","_blank","rel","noopener","href","https://angular.io/devtools/",1,"card"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"material-icons"],["fill","none","height","24","width","24"],["d","M14.73,13.31C15.52,12.24,16,10.93,16,9.5C16,5.91,13.09,3,9.5,3S3,5.91,3,9.5C3,13.09,5.91,16,9.5,16 c1.43,0,2.74-0.48,3.81-1.27L19.59,21L21,19.59L14.73,13.31z M9.5,14C7.01,14,5,11.99,5,9.5S7.01,5,9.5,5S14,7.01,14,9.5 S11.99,14,9.5,14z"],["points","10.29,8.44 9.5,6 8.71,8.44 6.25,8.44 8.26,10.03 7.49,12.5 9.5,10.97 11.51,12.5 10.74,10.03 12.75,8.44"],["type","hidden"],["selection",""],["tabindex","0",1,"card","card-small",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"terminal",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["title","Find a Local Meetup","href","https://www.meetup.com/find/?keywords=angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","24.607","height","23.447","viewBox","0 0 24.607 23.447"],["id","logo--mSwarm","d","M21.221,14.95A4.393,4.393,0,0,1,17.6,19.281a4.452,4.452,0,0,1-.8.069c-.09,0-.125.035-.154.117a2.939,2.939,0,0,1-2.506,2.091,2.868,2.868,0,0,1-2.248-.624.168.168,0,0,0-.245-.005,3.926,3.926,0,0,1-2.589.741,4.015,4.015,0,0,1-3.7-3.347,2.7,2.7,0,0,1-.043-.38c0-.106-.042-.146-.143-.166a3.524,3.524,0,0,1-1.516-.69A3.623,3.623,0,0,1,2.23,14.557a3.66,3.66,0,0,1,1.077-3.085.138.138,0,0,0,.026-.2,3.348,3.348,0,0,1-.451-1.821,3.46,3.46,0,0,1,2.749-3.28.44.44,0,0,0,.355-.281,5.072,5.072,0,0,1,3.863-3,5.028,5.028,0,0,1,3.555.666.31.31,0,0,0,.271.03A4.5,4.5,0,0,1,18.3,4.7a4.4,4.4,0,0,1,1.334,2.751,3.658,3.658,0,0,1,.022.706.131.131,0,0,0,.1.157,2.432,2.432,0,0,1,1.574,1.645,2.464,2.464,0,0,1-.7,2.616c-.065.064-.051.1-.014.166A4.321,4.321,0,0,1,21.221,14.95ZM13.4,14.607a2.09,2.09,0,0,0,1.409,1.982,4.7,4.7,0,0,0,1.275.221,1.807,1.807,0,0,0,.9-.151.542.542,0,0,0,.321-.545.558.558,0,0,0-.359-.534,1.2,1.2,0,0,0-.254-.078c-.262-.047-.526-.086-.787-.138a.674.674,0,0,1-.617-.75,3.394,3.394,0,0,1,.218-1.109c.217-.658.509-1.286.79-1.918a15.609,15.609,0,0,0,.745-1.86,1.95,1.95,0,0,0,.06-1.073,1.286,1.286,0,0,0-1.051-1.033,1.977,1.977,0,0,0-1.521.2.339.339,0,0,1-.446-.042c-.1-.092-.2-.189-.307-.284a1.214,1.214,0,0,0-1.643-.061,7.563,7.563,0,0,1-.614.512A.588.588,0,0,1,10.883,8c-.215-.115-.437-.215-.659-.316a2.153,2.153,0,0,0-.695-.248A2.091,2.091,0,0,0,7.541,8.562a9.915,9.915,0,0,0-.405.986c-.559,1.545-1.015,3.123-1.487,4.7a1.528,1.528,0,0,0,.634,1.777,1.755,1.755,0,0,0,1.5.211,1.35,1.35,0,0,0,.824-.858c.543-1.281,1.032-2.584,1.55-3.875.142-.355.28-.712.432-1.064a.548.548,0,0,1,.851-.24.622.622,0,0,1,.185.539,2.161,2.161,0,0,1-.181.621c-.337.852-.68,1.7-1.018,2.552a2.564,2.564,0,0,0-.173.528.624.624,0,0,0,.333.71,1.073,1.073,0,0,0,.814.034,1.22,1.22,0,0,0,.657-.655q.758-1.488,1.511-2.978.35-.687.709-1.37a1.073,1.073,0,0,1,.357-.434.43.43,0,0,1,.463-.016.373.373,0,0,1,.153.387.7.7,0,0,1-.057.236c-.065.157-.127.316-.2.469-.42.883-.846,1.763-1.262,2.648A2.463,2.463,0,0,0,13.4,14.607Zm5.888,6.508a1.09,1.09,0,0,0-2.179.006,1.09,1.09,0,0,0,2.179-.006ZM1.028,12.139a1.038,1.038,0,1,0,.01-2.075,1.038,1.038,0,0,0-.01,2.075ZM13.782.528a1.027,1.027,0,1,0-.011,2.055A1.027,1.027,0,0,0,13.782.528ZM22.21,6.95a.882.882,0,0,0-1.763.011A.882.882,0,0,0,22.21,6.95ZM4.153,4.439a.785.785,0,1,0,.787-.78A.766.766,0,0,0,4.153,4.439Zm8.221,18.22a.676.676,0,1,0-.677.666A.671.671,0,0,0,12.374,22.658ZM22.872,12.2a.674.674,0,0,0-.665.665.656.656,0,0,0,.655.643.634.634,0,0,0,.655-.644A.654.654,0,0,0,22.872,12.2ZM7.171-.123A.546.546,0,0,0,6.613.43a.553.553,0,1,0,1.106,0A.539.539,0,0,0,7.171-.123ZM24.119,9.234a.507.507,0,0,0-.493.488.494.494,0,0,0,.494.494.48.48,0,0,0,.487-.483A.491.491,0,0,0,24.119,9.234Zm-19.454,9.7a.5.5,0,0,0-.488-.488.491.491,0,0,0-.487.5.483.483,0,0,0,.491.479A.49.49,0,0,0,4.665,18.936Z","transform","translate(0 0.123)","fill","#f64060"],["title","Join the Conversation on Discord","href","https://discord.gg/angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 245 240"],["d","M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"],["d","M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"],["href","https://github.com/angular/angular","target","_blank","rel","noopener"],[1,"github-star-badge"],["d","M0 0h24v24H0z","fill","none"],["d","M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z","fill","#1976d2"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(e,n){if(1&e){const r=function F0(){return I()}();D(0,"div",0),ee(1,"img",1),D(2,"span"),ne(3,"Welcome"),A(),ee(4,"div",2),D(5,"a",3),Ie(),D(6,"svg",4),ee(7,"rect",5)(8,"path",6),A()(),we(),D(9,"a",7),Ie(),D(10,"svg",8),ee(11,"path",9)(12,"path",10),A()()(),we(),D(13,"div",11)(14,"div",12),Ie(),D(15,"svg",13)(16,"title"),ne(17,"Rocket Ship"),A(),D(18,"g",14),ee(19,"circle",15),D(20,"g",16),ee(21,"path",17)(22,"path",18),A()()(),we(),D(23,"span"),ne(24),A(),Ie(),D(25,"svg",19)(26,"title"),ne(27,"Rocket Ship Smoke"),A(),ee(28,"path",20),A()(),we(),D(29,"h2"),ne(30,"Resources"),A(),D(31,"p"),ne(32,"Here are some links to help you get started:"),A(),D(33,"div",21)(34,"a",22),Ie(),D(35,"svg",23),ee(36,"path",24),A(),we(),D(37,"span"),ne(38,"Learn Angular"),A(),Ie(),D(39,"svg",23),ee(40,"path",25),A()(),we(),D(41,"a",26),Ie(),D(42,"svg",23),ee(43,"path",27),A(),we(),D(44,"span"),ne(45,"CLI Documentation"),A(),Ie(),D(46,"svg",23),ee(47,"path",25),A()(),we(),D(48,"a",28),Ie(),D(49,"svg",29),ee(50,"path",30)(51,"path",31)(52,"path",32)(53,"path",33)(54,"path",34),A(),we(),D(55,"span"),ne(56,"Angular Material"),A(),Ie(),D(57,"svg",23),ee(58,"path",25),A()(),we(),D(59,"a",35),Ie(),D(60,"svg",23),ee(61,"path",36),A(),we(),D(62,"span"),ne(63,"Angular Blog"),A(),Ie(),D(64,"svg",23),ee(65,"path",25),A()(),we(),D(66,"a",37),Ie(),D(67,"svg",38)(68,"g"),ee(69,"rect",39),A(),D(70,"g")(71,"g"),ee(72,"path",40)(73,"polygon",41),A()()(),we(),D(74,"span"),ne(75,"Angular DevTools"),A(),Ie(),D(76,"svg",23),ee(77,"path",25),A()()(),we(),D(78,"h2"),ne(79,"Next Steps"),A(),D(80,"p"),ne(81,"What do you want to do next with your app?"),A(),ee(82,"input",42,43),D(84,"div",21)(85,"button",44),Xn("click",function(){return ri(r),ii(Sr(83).value="component")}),Ie(),D(86,"svg",23),ee(87,"path",45),A(),we(),D(88,"span"),ne(89,"New Component"),A()(),D(90,"button",44),Xn("click",function(){return ri(r),ii(Sr(83).value="material")}),Ie(),D(91,"svg",23),ee(92,"path",45),A(),we(),D(93,"span"),ne(94,"Angular Material"),A()(),D(95,"button",44),Xn("click",function(){return ri(r),ii(Sr(83).value="pwa")}),Ie(),D(96,"svg",23),ee(97,"path",45),A(),we(),D(98,"span"),ne(99,"Add PWA Support"),A()(),D(100,"button",44),Xn("click",function(){return ri(r),ii(Sr(83).value="dependency")}),Ie(),D(101,"svg",23),ee(102,"path",45),A(),we(),D(103,"span"),ne(104,"Add Dependency"),A()(),D(105,"button",44),Xn("click",function(){return ri(r),ii(Sr(83).value="test")}),Ie(),D(106,"svg",23),ee(107,"path",45),A(),we(),D(108,"span"),ne(109,"Run and Watch Tests"),A()(),D(110,"button",44),Xn("click",function(){return ri(r),ii(Sr(83).value="build")}),Ie(),D(111,"svg",23),ee(112,"path",45),A(),we(),D(113,"span"),ne(114,"Build for Production"),A()()(),D(115,"div",46),fi(116,U6,2,0,"pre",47),fi(117,$6,2,0,"pre",48),fi(118,B6,2,0,"pre",48),fi(119,V6,2,0,"pre",48),fi(120,j6,2,0,"pre",48),fi(121,H6,2,0,"pre",48),A(),D(122,"div",21)(123,"a",49),Ie(),D(124,"svg",50)(125,"title"),ne(126,"Meetup Logo"),A(),ee(127,"path",51),A()(),we(),D(128,"a",52),Ie(),D(129,"svg",53)(130,"title"),ne(131,"Discord Logo"),A(),ee(132,"path",54)(133,"path",55),A()()(),we(),D(134,"footer"),ne(135," Love Angular?\xa0 "),D(136,"a",56),ne(137," Give our repo a star. "),D(138,"div",57),Ie(),D(139,"svg",23),ee(140,"path",58)(141,"path",59),A(),ne(142," Star "),A()(),we(),D(143,"a",56),Ie(),D(144,"svg",23),ee(145,"path",60)(146,"path",58),A()()(),D(147,"svg",61)(148,"title"),ne(149,"Gray Clouds Background"),A(),ee(150,"path",62),A()(),we(),ee(151,"router-outlet")}if(2&e){const r=Sr(83);Tr(24),Du("",n.title," app is running!"),Tr(91),Ar("ngSwitch",r.value),Tr(2),Ar("ngSwitchCase","material"),Tr(1),Ar("ngSwitchCase","pwa"),Tr(1),Ar("ngSwitchCase","dependency"),Tr(1),Ar("ngSwitchCase","test"),Tr(1),Ar("ngSwitchCase","build")}},dependencies:[Zu,WT,zT,dg],styles:['[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']});const C=function(t,e){if(!t)throw Hs(e)},Hs=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},kA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},wc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw Error();r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},NA=function(t){const e=kA(t);return wc.encodeByteArray(e,!0)},Ec=function(t){return NA(t).replace(/\./g,"")},Cc=function(t){try{return wc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function z6(t){return OA(void 0,t)}function OA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!G6(n)||(t[n]=OA(t[n],e[n]));return t}function G6(t){return"__proto__"!==t}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Sg(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function LA(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ci(){try{return"object"==typeof indexedDB}catch{return!1}}function Pa(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Ag(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Mg=()=>{try{return function Y6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cc(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},FA=t=>{var e,n;return null===(n=null===(e=Mg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},UA=t=>{var e;return null===(e=Mg())||void 0===e?void 0:e[`_${t}`]};class Ws{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}class _n extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,_n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}}class kn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function rH(t,e){return t.replace(iH,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new _n(i,`${this.serviceName}: ${o} (${i}).`,r)}}const iH=/\{\$([^}]+)}/g;function xa(t){return JSON.parse(t)}function tt(t){return JSON.stringify(t)}const Dc=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=xa(Cc(s[0])||""),n=xa(Cc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function lr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Rg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Tc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($A(s)&&$A(o)){if(!Tc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $A(t){return null!==t&&"object"==typeof t}function ka(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class aH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,c,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class uH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function cH(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Pg),void 0===i.error&&(i.error=Pg),void 0===i.complete&&(i.complete=Pg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pg(){}const Ac=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function xg(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Nn(t){return t&&t._delegate?t._delegate:t}class dt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Di="[DEFAULT]";class _H{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ws;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function vH(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Di?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class IH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _H(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const kg=[];var le=(()=>{return(t=le||(le={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",le;var t})();const BA={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},wH=le.INFO,EH={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},CH=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=EH[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Gs{constructor(e){this.name=e,this._logLevel=wH,this._logHandler=CH,this._userLogHandler=null,kg.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?BA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}let VA,jA;const HA=new WeakMap,Ng=new WeakMap,WA=new WeakMap,Og=new WeakMap,Lg=new WeakMap;let Fg={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ng.get(t);if("objectStoreNames"===e)return t.objectStoreNames||WA.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function PH(t){return"function"==typeof t?function RH(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function TH(){return jA||(jA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ug(this),e),ur(HA.get(this))}:function(...e){return ur(t.apply(Ug(this),e))}:function(e,...n){const r=t.call(Ug(this),e,...n);return WA.set(r,e.sort?e.sort():[e]),ur(r)}}(t):(t instanceof IDBTransaction&&function AH(t){if(Ng.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ng.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function bH(){return VA||(VA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Fg):t)}function ur(t){if(t instanceof IDBRequest)return function SH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ur(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HA.set(n,t)}).catch(()=>{}),Lg.set(e,t),e}(t);if(Og.has(t))return Og.get(t);const e=PH(t);return e!==t&&(Og.set(t,e),Lg.set(e,t)),e}const Ug=t=>Lg.get(t);function Mc(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ur(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ur(o.result),l.oldVersion,l.newVersion,ur(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function $g(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ur(n).then(()=>{})}const xH=["get","getKey","getAll","getAllKeys","count"],kH=["put","add","delete","clear"],Bg=new Map;function zA(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Bg.get(e))return Bg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xH.includes(n))return;const s=function(){var o=g(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return Bg.set(e,s),s}!function MH(t){Fg=t(Fg)}(t=>({...t,get:(e,n,r)=>zA(e,n)||t.get(e,n,r),has:(e,n)=>!!zA(e,n)||t.has(e,n)}));class NH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function OH(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Vg="@firebase/app",bi=new Gs("@firebase/app"),Rc="[DEFAULT]",a5={[Vg]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ti=new Map,Pc=new Map;function l5(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wt(t){const e=t.name;if(Pc.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Pc.set(e,t);for(const n of Ti.values())l5(n,t);return!0}function qs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const cr=new kn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class c5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Ks="9.15.0";function qA(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Rc,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw cr.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=Mg())||void 0===t?void 0:t.config})()),!n)throw cr.create("no-options");const s=Ti.get(i);if(s){if(Tc(n,s.options)&&Tc(r,s.config))return s;throw cr.create("duplicate-app",{appName:i})}const o=new IH(i);for(const l of Pc.values())o.addComponent(l);const a=new c5(n,r,o);return Ti.set(i,a),a}function jg(t=Rc){const e=Ti.get(t);if(!e&&t===Rc)return qA();if(!e)throw cr.create("no-app",{appName:t});return e}function KA(){return Array.from(Ti.values())}function Re(t,e,n){var r;let i=null!==(r=a5[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void bi.warn(a.join(" "))}wt(new dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Na="firebase-heartbeat-store";let Wg=null;function YA(){return Wg||(Wg=Mc("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Na)}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),Wg}function zg(){return(zg=g(function*(t){try{return(yield YA()).transaction(Na).objectStore(Na).get(ZA(t))}catch(e){if(e instanceof _n)bi.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e?.message});bi.warn(n.message)}}})).apply(this,arguments)}function QA(t,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=g(function*(t,e){try{const r=(yield YA()).transaction(Na,"readwrite");return yield r.objectStore(Na).put(e,ZA(t)),r.done}catch(n){if(n instanceof _n)bi.warn(n.message);else{const r=cr.create("idb-set",{originalErrorMessage:n?.message});bi.warn(r.message)}}})).apply(this,arguments)}function ZA(t){return`${t.name}!${t.options.appId}`}class m5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=JA();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=JA(),{heartbeatsToSend:r,unsentEntries:i}=function _5(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),XA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ec(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function JA(){return(new Date).toISOString().substring(0,10)}class y5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ci()&&Pa().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function f5(t){return zg.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return QA(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return QA(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function XA(t){return Ec(JSON.stringify({version:2,heartbeats:t})).length}!function v5(t){wt(new dt("platform-logger",e=>new NH(e),"PRIVATE")),wt(new dt("heartbeat",e=>new m5(e),"PRIVATE")),Re(Vg,"0.9.0",t),Re(Vg,"0.9.0","esm2017"),Re("fire-js","")}(""),Re("firebase","9.15.0","app");const e1="@firebase/installations",n1="w:0.6.0",r1="FIS_v2",dr=new kn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function i1(t){return t instanceof _n&&t.code.includes("request-failed")}function Kg({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function s1(t){return{token:t.token,requestStatus:2,expiresIn:S5(t.expiresIn),creationTime:Date.now()}}function Yg(t,e){return Qg.apply(this,arguments)}function Qg(){return(Qg=g(function*(t,e){const r=(yield e.json()).error;return dr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function o1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function a1(t,{refreshToken:e}){const n=o1(t);return n.append("Authorization",function A5(t){return`${r1} ${t}`}(e)),n}function Zg(t){return Jg.apply(this,arguments)}function Jg(){return(Jg=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function S5(t){return Number(t.replace("s","000"))}function M5(t,e){return Xg.apply(this,arguments)}function Xg(){return(Xg=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Kg(t),i=o1(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:r1,appId:t.appId,sdkVersion:n1})},l=yield Zg(()=>fetch(r,a));if(l.ok){const u=yield l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:s1(u.authToken)}}throw yield Yg("Create Installation",l)})).apply(this,arguments)}function l1(t){return new Promise(e=>{setTimeout(e,t)})}const P5=/^[cdef][\w-]{21}$/;function x5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function k5(t){return function R5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return P5.test(n)?n:""}catch{return""}}function Ys(t){return`${t.appName}!${t.appId}`}const Qs=new Map;function u1(t,e){const n=Ys(t);c1(n,e),function L5(t,e){const n=function d1(){return!Si&&"BroadcastChannel"in self&&(Si=new BroadcastChannel("[Firebase] FID Change"),Si.onmessage=t=>{c1(t.data.key,t.data.fid)}),Si}();n&&n.postMessage({key:t,fid:e}),function h1(){0===Qs.size&&Si&&(Si.close(),Si=null)}()}(n,e)}function c1(t,e){const n=Qs.get(t);if(n)for(const r of n)r(e)}let Si=null;const Ai="firebase-installations-store";let tm=null;function nm(){return tm||(tm=Mc("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ai)}})),tm}function xc(t,e){return rm.apply(this,arguments)}function rm(){return(rm=g(function*(t,e){const n=Ys(t),i=(yield nm()).transaction(Ai,"readwrite"),s=i.objectStore(Ai),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&u1(t,e.fid),e})).apply(this,arguments)}function im(t){return sm.apply(this,arguments)}function sm(){return(sm=g(function*(t){const e=Ys(t),r=(yield nm()).transaction(Ai,"readwrite");yield r.objectStore(Ai).delete(e),yield r.done})).apply(this,arguments)}function Oa(t,e){return om.apply(this,arguments)}function om(){return(om=g(function*(t,e){const n=Ys(t),i=(yield nm()).transaction(Ai,"readwrite"),s=i.objectStore(Ai),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&u1(t,a.fid),a})).apply(this,arguments)}function am(t){return lm.apply(this,arguments)}function lm(){return(lm=g(function*(t){let e;const n=yield Oa(t.appConfig,r=>{const i=$5(r),s=B5(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function $5(t){return p1(t||{fid:x5(),registrationStatus:0})}function B5(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(dr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function V5(t,e){return um.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:j5(t)}:{installationEntry:e}}function um(){return(um=g(function*(t,e){try{const n=yield M5(t,e);return xc(t.appConfig,n)}catch(n){throw i1(n)&&409===n.customData.serverCode?yield im(t.appConfig):yield xc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function j5(t){return cm.apply(this,arguments)}function cm(){return(cm=g(function*(t){let e=yield f1(t.appConfig);for(;1===e.registrationStatus;)yield l1(100),e=yield f1(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield am(t);return r||n}return e})).apply(this,arguments)}function f1(t){return Oa(t,e=>{if(!e)throw dr.create("installation-not-found");return p1(e)})}function p1(t){return function H5(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function W5(t,e){return dm.apply(this,arguments)}function dm(){return(dm=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=z5(t,n),i=a1(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:n1,appId:t.appId}})},l=yield Zg(()=>fetch(r,a));if(l.ok)return s1(yield l.json());throw yield Yg("Generate Auth Token",l)})).apply(this,arguments)}function z5(t,{fid:e}){return`${Kg(t)}/${e}/authTokens:generate`}function hm(t){return fm.apply(this,arguments)}function fm(){return(fm=g(function*(t,e=!1){let n;const r=yield Oa(t.appConfig,s=>{if(!m1(s))throw dr.create("not-registered");const o=s.authToken;if(!e&&K5(o))return s;if(1===o.requestStatus)return n=G5(t,e),s;{if(!navigator.onLine)throw dr.create("app-offline");const a=Q5(s);return n=q5(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function G5(t,e){return pm.apply(this,arguments)}function pm(){return(pm=g(function*(t,e){let n=yield g1(t.appConfig);for(;1===n.authToken.requestStatus;)yield l1(100),n=yield g1(t.appConfig);const r=n.authToken;return 0===r.requestStatus?hm(t,e):r})).apply(this,arguments)}function g1(t){return Oa(t,e=>{if(!m1(e))throw dr.create("not-registered");return function Z5(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function q5(t,e){return gm.apply(this,arguments)}function gm(){return(gm=g(function*(t,e){try{const n=yield W5(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield xc(t.appConfig,r),n}catch(n){if(!i1(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield xc(t.appConfig,r)}else yield im(t.appConfig);throw n}})).apply(this,arguments)}function m1(t){return void 0!==t&&2===t.registrationStatus}function K5(t){return 2===t.requestStatus&&!function Y5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function Q5(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function mm(){return(mm=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield am(e);return r?r.catch(console.error):hm(e).catch(console.error),n.fid})).apply(this,arguments)}function _m(){return(_m=g(function*(t,e=!1){const n=t;return yield e8(n),(yield hm(n,e)).token})).apply(this,arguments)}function e8(t){return ym.apply(this,arguments)}function ym(){return(ym=g(function*(t){const{registrationPromise:e}=yield am(t);e&&(yield e)})).apply(this,arguments)}function wm(t){return dr.create("missing-app-config-values",{valueName:t})}const _1="installations",s8=t=>{const e=t.getProvider("app").getImmediate(),n=function r8(t){if(!t||!t.options)throw wm("App Configuration");if(!t.name)throw wm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:qs(e,"heartbeat"),_delete:()=>Promise.resolve()}},o8=t=>{const n=qs(t.getProvider("app").getImmediate(),_1).getImmediate();return{getId:()=>function J5(t){return mm.apply(this,arguments)}(n),getToken:i=>function X5(t){return _m.apply(this,arguments)}(n,i)}};(function a8(){wt(new dt(_1,s8,"PUBLIC")),wt(new dt("installations-internal",o8,"PRIVATE"))})(),Re(e1,"0.6.0"),Re(e1,"0.6.0","esm2017");const Em="@firebase/remote-config",Mt=new kn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class y8{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function v8(t=navigator){return t.languages&&t.languages[0]||t.language}class I8{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:v8()},u={method:"POST",headers:a,body:JSON.stringify(l)},c=fetch(o,u),d=new Promise((v,w)=>{e.signal.addEventListener(()=>{const y=new Error("The operation was aborted.");y.name="AbortError",w(y)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(v){let w="fetch-client-network";throw"AbortError"===v?.name&&(w="fetch-timeout"),Mt.create(w,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let v;try{v=yield h.json()}catch(w){throw Mt.create("fetch-client-parse",{originalErrorMessage:w?.message})}m=v.entries,_=v.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw Mt.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class C8{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function w8(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function E8(t){if(!(t instanceof _n&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+xg(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class T8{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nc(t,e){const n=t.target.error||void 0;return Mt.create(e,{originalErrorMessage:n&&n?.message})}const Mi="app_namespace_store";class R8{constructor(e,n,r,i=function M8(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Nc(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Mi,{keyPath:"compositeKey"})}}catch(n){e(Mt.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Mi],"readonly").objectStore(Mi),l=n.createCompositeKey(e);try{const u=a.get(l);u.onerror=c=>{s(Nc(c,"storage-get"))},u.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(u){s(Mt.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([Mi],"readwrite").objectStore(Mi),u=r.createCompositeKey(e);try{const c=l.put({compositeKey:u,value:n});c.onerror=d=>{o(Nc(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(Mt.create("storage-set",{originalErrorMessage:c?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Mi],"readwrite").objectStore(Mi),l=n.createCompositeKey(e);try{const u=a.delete(l);u.onerror=c=>{s(Nc(c,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(Mt.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class P8{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function k8(){return Sm.apply(this,arguments)}function Sm(){return(Sm=g(function*(){if(!Ci())return!1;try{return yield Pa()}catch{return!1}})).apply(this,arguments)}!function x8(){wt(new dt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mt.create("registration-window");if(!Ci())throw Mt.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Mt.create("registration-project-id");if(!o)throw Mt.create("registration-api-key");if(!a)throw Mt.create("registration-app-id");const l=new R8(a,r.name,n=n||"firebase"),u=new P8(l),c=new Gs(Em);c.logLevel=le.ERROR;const d=new I8(i,Ks,n,s,o,a),h=new C8(d,l),f=new y8(h,l,u,c),p=new T8(r,f,u,l,c);return function g8(t){const e=Nn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Re(Em,"0.4.0"),Re(Em,"0.4.0","esm2017")}();const N8="/firebase-messaging-sw.js",O8="/firebase-cloud-messaging-push-scope",w1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",E1="google.c.a.c_id",F8="google.c.a.c_l",U8="google.c.a.ts",$8="google.c.a.e";var Zs=(()=>{return(t=Zs||(Zs={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Zs;var t})();function hr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function B8(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Am="fcm_token_details_db",C1="fcm_token_object_Store";function j8(t){return Mm.apply(this,arguments)}function Mm(){return Mm=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Am))return null;let e=null;return(yield Mc(Am,5,{upgrade:(r=g(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(C1))return;const u=a.objectStore(C1),c=yield u.index("fcmSenderId").get(t);if(yield u.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:hr(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hr(d.auth),p256dh:hr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hr(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hr(d.auth),p256dh:hr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hr(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield $g(Am),yield $g("fcm_vapid_details_db"),yield $g("undefined"),H8(e)?e:null;var r}),Mm.apply(this,arguments)}function H8(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ri="firebase-messaging-store";let Rm=null;function Pm(){return Rm||(Rm=Mc("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ri)}})),Rm}function D1(t){return xm.apply(this,arguments)}function xm(){return(xm=g(function*(t){const e=Lm(t),r=yield(yield Pm()).transaction(Ri).objectStore(Ri).get(e);if(r)return r;{const i=yield j8(t.appConfig.senderId);if(i)return yield km(t,i),i}})).apply(this,arguments)}function km(t,e){return Nm.apply(this,arguments)}function Nm(){return(Nm=g(function*(t,e){const n=Lm(t),i=(yield Pm()).transaction(Ri,"readwrite");return yield i.objectStore(Ri).put(e,n),yield i.done,e})).apply(this,arguments)}function G8(t){return Om.apply(this,arguments)}function Om(){return(Om=g(function*(t){const e=Lm(t),r=(yield Pm()).transaction(Ri,"readwrite");yield r.objectStore(Ri).delete(e),yield r.done})).apply(this,arguments)}function Lm({appConfig:t}){return t.appId}const nt=new kn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function K8(t,e){return Fm.apply(this,arguments)}function Fm(){return(Fm=g(function*(t,e){const n=yield Vm(t),r=T1(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Bm(t.appConfig),i)).json()}catch(o){throw nt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw nt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw nt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Y8(t,e){return Um.apply(this,arguments)}function Um(){return(Um=g(function*(t,e){const n=yield Vm(t),r=T1(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Bm(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw nt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw nt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw nt.create("token-update-no-token");return s.token})).apply(this,arguments)}function b1(t,e){return $m.apply(this,arguments)}function $m(){return($m=g(function*(t,e){const r={method:"DELETE",headers:yield Vm(t)};try{const s=yield(yield fetch(`${Bm(t.appConfig)}/${e}`,r)).json();if(s.error)throw nt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw nt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Bm({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function Vm(t){return jm.apply(this,arguments)}function jm(){return(jm=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function T1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==w1&&(i.web.applicationPubKey=r),i}const Q8=6048e5;function Z8(t){return Hm.apply(this,arguments)}function Hm(){return(Hm=g(function*(t){const e=yield X8(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:hr(e.getKey("auth")),p256dh:hr(e.getKey("p256dh"))},r=yield D1(t.firebaseDependencies);if(r){if(eW(r.subscriptionOptions,n))return Date.now()>=r.createTime+Q8?J8(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield b1(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return A1(t.firebaseDependencies,n)}return A1(t.firebaseDependencies,n)})).apply(this,arguments)}function S1(t){return Wm.apply(this,arguments)}function Wm(){return(Wm=g(function*(t){const e=yield D1(t.firebaseDependencies);e&&(yield b1(t.firebaseDependencies,e.token),yield G8(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function J8(t,e){return zm.apply(this,arguments)}function zm(){return(zm=g(function*(t,e){try{const n=yield Y8(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield km(t.firebaseDependencies,r),n}catch(n){throw yield S1(t),n}})).apply(this,arguments)}function A1(t,e){return Gm.apply(this,arguments)}function Gm(){return(Gm=g(function*(t,e){const r={token:yield K8(t,e),createTime:Date.now(),subscriptionOptions:e};return yield km(t,r),r.token})).apply(this,arguments)}function X8(t,e){return qm.apply(this,arguments)}function qm(){return(qm=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:B8(e)})})).apply(this,arguments)}function eW(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function M1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function tW(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function nW(t,e){!e.data||(t.data=e.data)}(e,t),function rW(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}(e,t),e}function iW(t){return"object"==typeof t&&!!t&&E1 in t}function R1(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Km(t){return nt.create("missing-app-config-values",{valueName:t})}R1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),R1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oW{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function sW(t){if(!t||!t.options)throw Km("App Configuration Object");if(!t.name)throw Km("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Km(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function P1(t){return Ym.apply(this,arguments)}function Ym(){return(Ym=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(N8,{scope:O8}),t.swRegistration.update().catch(()=>{})}catch(e){throw nt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function aW(t,e){return Qm.apply(this,arguments)}function Qm(){return(Qm=g(function*(t,e){if(!e&&!t.swRegistration&&(yield P1(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw nt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function lW(t,e){return Zm.apply(this,arguments)}function Zm(){return(Zm=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=w1)})).apply(this,arguments)}function Jm(){return(Jm=g(function*(t,e){if(!navigator)throw nt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw nt.create("permission-blocked");return yield lW(t,e?.vapidKey),yield aW(t,e?.serviceWorkerRegistration),Z8(t)})).apply(this,arguments)}function uW(t,e,n){return Xm.apply(this,arguments)}function Xm(){return(Xm=g(function*(t,e,n){const r=cW(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[E1],message_name:n[F8],message_time:n[U8],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function cW(t){switch(t){case Zs.NOTIFICATION_CLICKED:return"notification_open";case Zs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function e_(){return(e_=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Zs.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(M1(n)):t.onMessageHandler.next(M1(n)));const r=n.data;iW(r)&&"1"===r[$8]&&(yield uW(t,n.messageType,r))})).apply(this,arguments)}const k1="@firebase/messaging",hW=t=>{const e=new oW(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function dW(t,e){return e_.apply(this,arguments)}(e,n)),e},fW=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function x1(t,e){return Jm.apply(this,arguments)}(e,r)}};function O1(){return t_.apply(this,arguments)}function t_(){return(t_=g(function*(){try{yield Pa()}catch{return!1}return typeof window<"u"&&Ci()&&Ag()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pW(){wt(new dt("messaging",hW,"PUBLIC")),wt(new dt("messaging-internal",fW,"PRIVATE")),Re(k1,"0.12.0"),Re(k1,"0.12.0","esm2017")}();const Oc="analytics",_W="firebase_id",IW="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",L1="https://www.googletagmanager.com/gtag/js",rt=new Gs("@firebase/analytics");function F1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function wW(t,e){const n=document.createElement("script");n.src=`${L1}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function CW(t,e,n,r,i,s){return i_.apply(this,arguments)}function i_(){return(i_=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield F1(n)).find(u=>u.measurementId===i);l&&(yield e[l.appId])}}catch(a){rt.error(a)}t("config",i,s)})).apply(this,arguments)}function DW(t,e,n,r,i){return s_.apply(this,arguments)}function s_(){return(s_=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield F1(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){rt.error(s)}})).apply(this,arguments)}function SW(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(L1)&&n.src.includes(t))return n;return null}const Ht=new kn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),U1=new class PW{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function xW(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function kW(t){return o_.apply(this,arguments)}function o_(){return(o_=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:xW(r)},s=IW.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Ht.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function NW(t){return a_.apply(this,arguments)}function a_(){return(a_=g(function*(t,e=U1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ht.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ht.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new FW;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),$1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function $1(t,e,n){return l_.apply(this,arguments)}function l_(){return(l_=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=U1){var s;const{appId:o,measurementId:a}=t;try{yield OW(r,e)}catch(l){if(a)return rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield kW(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!LW(u)){if(i.deleteThrottleMetadata(o),a)return rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw l}const c=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?xg(n,i.intervalMillis,30):xg(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),rt.debug(`Calling attemptFetch again in ${c} millis`),$1(t,d,r,i)}})).apply(this,arguments)}function OW(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ht.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function LW(t){if(!(t instanceof _n&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class FW{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let u_,g_;function c_(){return(c_=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function B1(t){g_=t}function V1(t){u_=t}function HW(){return m_.apply(this,arguments)}function m_(){return(m_=g(function*(){if(!Ci())return rt.warn(Ht.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Pa()}catch(t){return rt.warn(Ht.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function __(){return(__=g(function*(t,e,n,r,i,s,o){var a;const l=NW(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&rt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>rt.error(f)),e.push(l);const u=HW().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([l,u]);SW(s)||wW(s,c.measurementId),g_&&(i("consent","default",g_),B1(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[_W]=d),i("config",c.measurementId,h),u_&&(i("set",u_),V1(void 0)),c.measurementId})).apply(this,arguments)}class zW{constructor(e){this.app=e}_delete(){return delete fr[this.app.options.appId],Promise.resolve()}}let fr={},j1=[];const H1={};let z1,pr,Lc="dataLayer",y_=!1;function qW(t,e,n){!function GW(){const t=[];if(Sg()&&t.push("This is a browser extension environment."),Ag()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ht.create("invalid-analytics-context",{errorInfo:e});rt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Ht.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Ht.create("no-api-key");rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fr[r])throw Ht.create("already-exists",{id:r});if(!y_){!function EW(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Lc);const{wrappedGtag:s,gtagCore:o}=function TW(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function bW(t,e,n,r){function s(){return(s=g(function*(o,a,l){try{"event"===o?yield DW(t,e,n,a,l):"config"===o?yield CW(t,e,n,r,a,l):"consent"===o?t("consent","update",l):t("set",a)}catch(u){rt.error(u)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(fr,j1,H1,Lc,"gtag");pr=s,z1=o,y_=!0}return fr[r]=function WW(t,e,n,r,i,s,o){return __.apply(this,arguments)}(t,j1,H1,e,z1,Lc,n),new zW(t)}function YW(){return v_.apply(this,arguments)}function v_(){return(v_=g(function*(){if(Sg()||!Ag()||!Ci())return!1;try{return yield Pa()}catch{return!1}})).apply(this,arguments)}const G1="@firebase/analytics";!function ZW(){wt(new dt(Oc,(e,{options:n})=>qW(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),wt(new dt("analytics-internal",function t(e){try{const n=e.getProvider(Oc).getImmediate();return{logEvent:(r,i,s)=>function QW(t,e,n,r){t=Nn(t),function UW(t,e,n,r,i){return c_.apply(this,arguments)}(pr,fr[t.app.options.appId],e,n,r).catch(i=>rt.error(i))}(n,r,i,s)}}catch(n){throw Ht.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Re(G1,"0.9.0"),Re(G1,"0.9.0","esm2017")}();class JW extends kt{constructor(e,n){super()}schedule(e,n=0){return this}}const Fc={setInterval(t,e,...n){const{delegate:r}=Fc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Fc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class K1 extends JW{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Fc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Fc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Gi(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Y1={now:()=>(Y1.delegate||Date).now(),delegate:void 0};class La{constructor(e,n=La.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}La.now=Y1.now;class Q1 extends La{constructor(e,n=La.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const tz=new class ez extends Q1{}(class XW extends K1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),nz=new Q1(K1),Uc=new zo("7.5.0"),I_="__angularfire_symbol__analyticsIsSupportedValue",w_="__angularfire_symbol__analyticsIsSupported",E_="__angularfire_symbol__remoteConfigIsSupportedValue",C_="__angularfire_symbol__remoteConfigIsSupported",D_="__angularfire_symbol__messagingIsSupportedValue",b_="__angularfire_symbol__messagingIsSupported";function S_(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[w_]||(globalThis[w_]=YW().then(t=>globalThis[I_]=t).catch(()=>globalThis[I_]=!1)),globalThis[b_]||(globalThis[b_]=O1().then(t=>globalThis[D_]=t).catch(()=>globalThis[D_]=!1)),globalThis[C_]||(globalThis[C_]=k8().then(t=>globalThis[E_]=t).catch(()=>globalThis[E_]=!1));const A_=(t,e)=>{const n=e?[e]:KA(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Js(){}class Z1{constructor(e,n=tz){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class rz{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)),n.pipe(Xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let M_=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Z1(Zone.current)),this.insideAngular=n.run(()=>new Z1(Zone.current,nz)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(R(Ce))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Pi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function iz(t){return Pi().ngZone.runOutsideAngular(()=>t())}function xi(t){return Pi().ngZone.run(()=>t())}function sz(t){return Pi(),function oz(t){return function(n){return(n=n.lift(new rz(t.ngZone))).pipe(Sl(t.outsideAngular),Tl(t.insideAngular))}}(Pi())(t)}const az=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),xi(()=>t.apply(void 0,r))},R_=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=xi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)))),r[s]=az(r[s],n));const i=iz(()=>t.apply(this,r));if(!e){if(i instanceof Pe){const s=Pi();return i.pipe(Sl(s.outsideAngular),Tl(s.insideAngular))}return xi(()=>i)}return i instanceof Pe?i.pipe(sz):i instanceof Promise?xi(()=>new Promise((s,o)=>i.then(a=>xi(()=>s(a)),a=>xi(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:xi(()=>i)};class Xs{constructor(e){return e}}class P_{constructor(){return KA()}}const x_=new P("angularfire2._apps"),uz={provide:Xs,useFactory:function lz(t){return t&&1===t.length?t[0]:new Xs(jg())},deps:[[new lt,x_]]},cz={provide:P_,deps:[[new lt,x_]]};function dz(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Xs(r)}}let hz=(()=>{class t{constructor(n){Re("angularfire",Uc.full,"core"),Re("angularfire",Uc.full,"app"),Re("angular",$C.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(R(Ou))},t.\u0275mod=Cn({type:t}),t.\u0275inj=rn({providers:[uz,cz]}),t})();const pz=R_(qA,!0),gz_firebase={projectId:"systeme-domotique",appId:"1:8230798147:web:4bd448c6586cba4f6065f6",databaseURL:"https://systeme-domotique-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"systeme-domotique.appspot.com",apiKey:"AIzaSyDj3ZRsuLaibBHgBECUafQBZ_4jPnWQE0w",authDomain:"systeme-domotique.firebaseapp.com",messagingSenderId:"8230798147",measurementId:"G-V7Y44JX4JN"},k_=new Map,J1={activated:!1,tokenObservers:[]},mz={initialized:!1,enabled:!1};function it(t){return k_.get(t)||Object.assign({},J1)}function $c(){return mz}class Ez{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Ws,yield function Cz(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ws,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Et=new kn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function eM(t){if(!it(t).activated)throw Et.create("use-before-activation",{appName:t.name})}function L_(t,e){return F_.apply(this,arguments)}function F_(){return(F_=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Et.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Et.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Et.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Et.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(l[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}})).apply(this,arguments)}function Sz(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Fa="firebase-app-check-store";let jc=null;function nM(){return jc||(jc=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Et.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fa,{keyPath:"compositeKey"})}}catch(n){e(Et.create("storage-open",{originalErrorMessage:n?.message}))}}),jc)}function U_(){return(U_=g(function*(t,e){const r=(yield nM()).transaction(Fa,"readwrite"),s=r.objectStore(Fa).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Et.create("storage-set",{originalErrorMessage:null===(u=l.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const Ua=new Gs("@firebase/app-check");function V_(t,e){return Ci()?function Pz(t,e){return function rM(t,e){return U_.apply(this,arguments)}(function sM(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ua.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function oM(){return $c().enabled}function aM(){return H_.apply(this,arguments)}function H_(){return(H_=g(function*(){const t=$c();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fz={error:"UNKNOWN_ERROR"};function Uz(t){return wc.encodeString(JSON.stringify(t),!1)}function Hc(t){return W_.apply(this,arguments)}function W_(){return(W_=g(function*(t,e=!1){const n=t.app;eM(n);const r=it(n);let s,i=r.token;if(i&&!eo(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(eo(l)?i=l:yield V_(n,void 0))}if(!e&&i&&eo(i))return{token:i.token};let a,o=!1;if(oM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=L_(Sz(n,yield aM()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield V_(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield it(n).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Ua.warn(l.message):Ua.error(l),s=l}return i?s?a=eo(i)?{token:i.token,internalError:s}:cM(s):(a={token:i.token},r.token=i,yield V_(n,i)):a=cM(s),o&&uM(n,a),a})).apply(this,arguments)}function G_(t,e){const n=it(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function lM(t){const{app:e}=t,n=it(e);let r=n.tokenRefresher;r||(r=function $z(t){const{app:e}=t;return new Ez(g(function*(){let r;if(r=it(e).token?yield Hc(t,!0):yield Hc(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=it(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function uM(t,e){const n=it(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function eo(t){return t.expireTimeMillis-Date.now()>0}function cM(t){return{token:Uz(Fz),error:t}}class Bz{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=it(this.app);for(const n of e)G_(this.app,n.next);return Promise.resolve()}}const yM="app-check-internal";!function e7(){wt(new dt("app-check",t=>function Vz(t,e){return new Bz(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(yM).initialize()})),wt(new dt(yM,t=>function jz(t){return{getToken:e=>Hc(t,e),addTokenListener:e=>function z_(t,e,n,r){const{app:i}=t,s=it(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&eo(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),lM(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>lM(t))}(t,"INTERNAL",e),removeTokenListener:e=>G_(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Re("@firebase/app-check","0.6.0")}();class Q_{constructor(){return A_("app-check")}}typeof window<"u"&&window;const s7=function IM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wM=new kn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),EM=new Gs("@firebase/auth");function zc(t,...e){EM.logLevel<=le.ERROR&&EM.error(`Auth (${Ks}): ${t}`,...e)}function Rt(t,...e){throw J_(t,...e)}function On(t,...e){return J_(t,...e)}function CM(t,e,n){const r=Object.assign(Object.assign({},s7()),{[e]:n});return new kn("auth","Firebase",r).create(e,{appName:t.name})}function J_(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wM.create(t,...e)}function E(t,e,...n){if(!t)throw J_(e,...n)}function Ln(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zc(e),new Error(e)}function Fr(t,e){t||Ln(e)}const DM=new Map;function gr(t){Fr(t instanceof Function,"Expected a class definition");let e=DM.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DM.set(t,e),e)}function $a(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function bM(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ba{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=Tg()||LA()}get(){return function l7(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function X_(){return"http:"===bM()||"https:"===bM()}()||Sg()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ey(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class TM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const c7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},d7=new Ba(3e4,6e4);function je(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function qe(t,e,n,r){return ty.apply(this,arguments)}function ty(){return(ty=g(function*(t,e,n,r,i={}){return SM(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ka(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),TM.fetch()(AM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function SM(t,e,n){return ny.apply(this,arguments)}function ny(){return(ny=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},c7),e);try{const i=new h7(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Va(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Va(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Va(t,"email-already-in-use",o);if("USER_DISABLED"===l)throw Va(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw CM(t,c,u);Rt(t,c)}}catch(i){if(i instanceof _n)throw i;Rt(t,"network-request-failed")}})).apply(this,arguments)}function mr(t,e,n,r){return ry.apply(this,arguments)}function ry(){return(ry=g(function*(t,e,n,r,i={}){const s=yield qe(t,e,n,r,i);return"mfaPendingCredential"in s&&Rt(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function AM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ey(t.config,i):`${t.config.apiScheme}://${i}`}class h7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(On(this.auth,"network-request-failed")),d7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Va(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=On(t,e,r);return i.customData._tokenResponse=n,i}function iy(){return(iy=g(function*(t,e){return qe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function g7(t,e){return oy.apply(this,arguments)}function oy(){return(oy=g(function*(t,e){return qe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ja(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ay(){return(ay=g(function*(t,e=!1){const n=Nn(t),r=yield n.getIdToken(e),i=Gc(r);E(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ja(ly(i.auth_time)),issuedAtTime:ja(ly(i.iat)),expirationTime:ja(ly(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function ly(t){return 1e3*Number(t)}function Gc(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cc(n);return i?JSON.parse(i):(zc("Failed to decode base64 JWT payload"),null)}catch(i){return zc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _r(t,e){return uy.apply(this,arguments)}function uy(){return(uy=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof _n&&y7(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function y7({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class v7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class MM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ha(t){return cy.apply(this,arguments)}function cy(){return(cy=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield _r(t,g7(n,{idToken:r}));E(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?E7(s.providerUserInfo):[],a=w7(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new MM(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)})).apply(this,arguments)}function dy(){return(dy=g(function*(t){const e=Nn(t);yield Ha(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function w7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function E7(t){return t.map(e=>{var{providerId:n}=e,r=yw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function hy(){return(hy=g(function*(t,e){const n=yield SM(t,{},g(function*(){const r=ka({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=AM(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",TM.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){E(e.idToken,"internal-error"),E(typeof e.idToken<"u","internal-error"),E(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function _7(t){const e=Gc(t);return E(e,"internal-error"),E(typeof e.exp<"u","internal-error"),E(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return E(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function C7(t,e){return hy.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Wa;return r&&(E("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(E("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(E("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Ln("not implemented")}}function Ur(t,e){E("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=yw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new MM(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield _r(n,n.stsTokenManager.getToken(n.auth,e));return E(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function m7(t){return ay.apply(this,arguments)}(this,e)}reload(){return function I7(t){return dy.apply(this,arguments)}(this)}_assign(e){this!==e&&(E(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){E(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ha(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield _r(e,function f7(t,e){return iy.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,v=null!==(u=n.createdAt)&&void 0!==u?u:void 0,w=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:M,isAnonymous:ce,providerData:Ee,stsTokenManager:ow}=n;E(y&&ow,e,"internal-error");const wQ=Wa.fromJSON(this.name,ow);E("string"==typeof y,e,"internal-error"),Ur(d,e.name),Ur(h,e.name),E("boolean"==typeof M,e,"internal-error"),E("boolean"==typeof ce,e,"internal-error"),Ur(f,e.name),Ur(p,e.name),Ur(m,e.name),Ur(_,e.name),Ur(v,e.name),Ur(w,e.name);const aw=new ki({uid:y,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:ce,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:wQ,createdAt:v,lastLoginAt:w});return Ee&&Array.isArray(Ee)&&(aw.providerData=Ee.map(EQ=>Object.assign({},EQ))),_&&(aw._redirectEventId=_),aw}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Wa;i.updateFromServerResponse(n);const s=new ki({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ha(s),s})()}}const RM=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function qc(t,e,n){return`firebase:${t}:${e}:${n}`}class no{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=qc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ki._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new no(gr(RM),e,r);const i=(yield Promise.all(n.map(function(){var u=g(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||gr(RM);const o=qc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=yield u._get(o);if(c){const d=ki._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=g(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return u.apply(this,arguments)}}())),new no(s,e,r)):new no(s,e,r)})()}}function PM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LM(e))return"Blackberry";if(FM(e))return"Webos";if(fy(e))return"Safari";if((e.includes("chrome/")||kM(e))&&!e.includes("edge/"))return"Chrome";if(OM(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function xM(t=Ge()){return/firefox\//i.test(t)}function fy(t=Ge()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kM(t=Ge()){return/crios\//i.test(t)}function NM(t=Ge()){return/iemobile/i.test(t)}function OM(t=Ge()){return/android/i.test(t)}function LM(t=Ge()){return/blackberry/i.test(t)}function FM(t=Ge()){return/webos/i.test(t)}function Kc(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UM(t=Ge()){return Kc(t)||OM(t)||FM(t)||LM(t)||/windows phone/i.test(t)||NM(t)}function $M(t,e=[]){let n;switch(t){case"Browser":n=PM(Ge());break;case"Worker":n=`${PM(Ge())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ks}/${r}`}class S7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class A7{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BM(this),this.idTokenSubscription=new BM(this),this.beforeStateQueue=new S7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wM,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield no.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return E(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Ha(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function u7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Nn(e):null;return r&&E(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&E(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(gr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&gr(e)||n._popupRedirectResolver;E(r,n,"argument-error"),n.redirectPersistenceManager=yield no.create(n,[gr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return E(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return E(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$M(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Pt(t){return Nn(t)}class BM{constructor(e){this.auth=e,this.observer=null,this.addObserver=function lH(t,e){const n=new uH(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return E(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function VM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class x7{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,n){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}}function yr(t,e){return Ty.apply(this,arguments)}function Ty(){return(Ty=g(function*(t,e){return mr(t,"POST","/v1/accounts:signInWithIdp",je(t,e))})).apply(this,arguments)}class $r{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Y7 extends $r{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class en{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield ki._fromIdTokenResponse(e,r,i),o=qM(r);return new en({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=qM(r);return new en({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function qM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Jc extends _n{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jc(e,n,r,i)}}function KM(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Jc._fromErrorAndOperation(t,s,e,r):s})}function Oy(t,e){return Ly.apply(this,arguments)}function Ly(){return(Ly=g(function*(t,e,n=!1){const r=yield _r(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return en._forOperation(t,"link",r)})).apply(this,arguments)}function Uy(){return(Uy=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield _r(t,KM(r,i,e,t),n);E(s.idToken,r,"internal-error");const o=Gc(s.idToken);E(o,r,"internal-error");const{sub:a}=o;return E(t.uid===a,r,"user-mismatch"),en._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Rt(r,"user-mismatch"),s}})).apply(this,arguments)}function $y(){return($y=g(function*(t,e,n=!1){const r="signIn",i=yield KM(t,r,e),s=yield en._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const td="__sak";class XM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _G=(()=>{class t extends XM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pG(){const t=Ge();return fy(t)||Kc(t)}()&&function T7(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=UM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function b7(){return function K6(){const t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),eR=(()=>{class t extends XM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let vG=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(l).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function yG(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function pv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class IG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,u)=>{const c=pv("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function He(){return window}function gv(){return typeof He().WorkerGlobalScope<"u"&&"function"==typeof He().importScripts}function mv(){return(mv=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const tR="firebaseLocalStorageDb",nd="firebaseLocalStorage",nR="fbase_key";class Ka{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rd(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function _v(){const t=indexedDB.open(tR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nd,{keyPath:nR})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(nd)?e(r):(r.close(),yield function TG(){const t=indexedDB.deleteDatabase(tR);return new Ka(t).toPromise()}(),e(yield _v()))}))})}function rR(t,e,n){return yv.apply(this,arguments)}function yv(){return(yv=g(function*(t,e,n){const r=rd(t,!0).put({[nR]:e,value:n});return new Ka(r).toPromise()})).apply(this,arguments)}function vv(){return(vv=g(function*(t,e){const n=rd(t,!1).get(e),r=yield new Ka(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function iR(t,e){const n=rd(t,!0).delete(e);return new Ka(n).toPromise()}const RG=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield _v()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return gv()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=vG._getInstance(function DG(){return gv()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function EG(){return mv.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new IG(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function CG(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield _v();return yield rR(n,td,"1"),yield iR(n,td),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>rR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function SG(t,e){return vv.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>iR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=rd(o,!1).getAll();return new Ka(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function oR(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Oi(t,e){return e?gr(e):(E(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}oR("rcb"),new Ba(3e4,6e4);class Mv extends x7{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qG(t){return function ZM(t,e){return $y.apply(this,arguments)}(t.auth,new Mv(t),t.bypassAuthState)}function KG(t){const{auth:e,user:n}=t;return E(n,e,"internal-error"),function QM(t,e){return Uy.apply(this,arguments)}(n,new Mv(t),t.bypassAuthState)}function YG(t){return Rv.apply(this,arguments)}function Rv(){return(Rv=g(function*(t){const{auth:e,user:n}=t;return E(n,e,"internal-error"),Oy(n,new Mv(t),t.bypassAuthState)})).apply(this,arguments)}class QG{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(u))}catch(c){n.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qG;case"linkViaPopup":case"linkViaRedirect":return YG;case"reauthViaPopup":case"reauthViaRedirect":return KG;default:Rt(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ba(2e3,1e4);const Ya=new Map;class JG extends QG{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Ya.get(n.auth._key());if(!r){try{const s=(yield function XG(t,e){return Ov.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ya.set(n.auth._key(),r)}return n.bypassAuthState||Ya.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function Ov(){return(Ov=g(function*(t,e){const n=uR(e),r=lR(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function e9(t,e){Ya.set(t._key(),e)}function lR(t){return gr(t._redirectPersistence)}function uR(t){return qc("pendingRedirect",t.config.apiKey,t.name)}function cR(t,e){return jv.apply(this,arguments)}function jv(){return(jv=g(function*(t,e,n=!1){const r=Pt(t),i=Oi(r,e),o=yield new JG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class s9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function o9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fR(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fR(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(On(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hR(e))}saveEventToCache(e){this.cachedEventUids.add(hR(e)),this.lastProcessedEventTime=Date.now()}}function hR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fR({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function a9(t){return Wv.apply(this,arguments)}function Wv(){return(Wv=g(function*(t,e={}){return qe(t,"GET","/v1/projects",e)})).apply(this,arguments)}const l9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u9=/^https?/;function zv(){return(zv=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield a9(t);for(const n of e)try{if(d9(n))return}catch{}Rt(t,"unauthorized-domain")})).apply(this,arguments)}function d9(t){const e=$a(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!u9.test(n))return!1;if(l9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const h9=new Ba(3e4,6e4);function pR(){const t=He().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let sd=null;function p9(t){return sd=sd||function f9(t){return new Promise((e,n)=>{var r,i,s;function o(){pR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pR(),n(On(t,"network-request-failed"))},timeout:h9.get()})}if(null!==(i=null===(r=He().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=He().gapi)||void 0===s||!s.load){const a=oR("iframefcb");return He()[a]=()=>{gapi.load?o():n(On(t,"network-request-failed"))},function sR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=On("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function NG(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}o()}}).catch(e=>{throw sd=null,e})}(t),sd}const g9=new Ba(5e3,15e3),y9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I9(t){const e=t.config;E(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ey(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Ks},i=v9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ka(r).slice(1)}`}function Gv(){return Gv=g(function*(t){const e=yield p9(t),n=He().gapi;return E(n,t,"internal-error"),e.open({where:document.body,url:I9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y9,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=On(t,"network-request-failed"),l=He().setTimeout(()=>{o(a)},g9.get());function u(){He().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Gv.apply(this,arguments)}const E9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mR(t,e,n,r,i,s){E(t.config.authDomain,t,"auth-domain-config-required"),E(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ks,eventId:i};if(e instanceof $r){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Rg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Y7){const l=e.getScopes().filter(u=>""!==u);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function P9({config:t}){return t.emulator?ey(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${ka(a).slice(1)}`}const qv="webStorageSupport",k9=class x9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eR,this._completeRedirectFn=cR,this._overrideRedirectResult=e9}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Fr(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=mR(e,n,r,$a(),i);return function S9(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ge().toLowerCase();n&&(a=kM(u)?"_blank":n),xM(u)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function D7(t=Ge()){var e;return Kc(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function A9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new gR(null);const d=window.open(e||"",a,c);E(d,t,"popup-blocked");try{d.focus()}catch{}return new gR(d)}(e,a,pv())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function wG(t){He().location.href=t}(mR(e,n,r,$a(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function w9(t){return Gv.apply(this,arguments)}(e),i=new s9(e);return r.register("authEvent",s=>(E(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qv,{type:qv},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[qv];void 0!==o&&n(!!o),Rt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function c9(t){return zv.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UM()||fy()||Kc()}};var yR="@firebase/auth";class N9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){E(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const U9=UA("authIdTokenMaxAge")||300;let IR=null;const $9=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>U9)return;const s=r?.token;IR!==s&&(IR=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function B9(t=jg()){const e=qs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function o7(t,e){const n=qs(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Tc(n.getOptions(),e??{}))return i;Rt(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:k9,persistence:[RG,_G,eR]}),r=UA("authTokenSyncURL");if(r){const s=$9(r);(function cG(t,e,n){Nn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function uG(t,e,n,r){Nn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=FA("auth");return i&&function M7(t,e,n){const r=Pt(t);E(r._canInitEmulator,r,"emulator-config-failed"),E(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=VM(e),{host:o,port:a}=function R7(t){const e=VM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:jM(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:jM(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function P7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function L9(t){wt(new dt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{E(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),E(!o?.includes(":"),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$M(t)},c=new A7(a,l,u);return function a7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wt(new dt("auth-internal",e=>{const n=Pt(e.getProvider("auth").getImmediate());return new N9(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(yR,"0.21.0",function O9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Re(yR,"0.21.0","esm2017")}("Browser");class Kv{constructor(e){return e}}class ER{constructor(){return A_("auth")}}const Yv=new P("angularfire2.auth-instances");function j9(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Kv(r)}}const H9={provide:ER,deps:[[new lt,Yv]]},W9={provide:Kv,useFactory:function V9(t,e){const n=S_("auth",t,e);return n&&new Kv(n)},deps:[[new lt,Yv],Xs]};let z9=(()=>{class t{constructor(){Re("angularfire",Uc.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Cn({type:t}),t.\u0275inj=rn({providers:[W9,H9]}),t})();const q9=R_(B9,!0),CR="@firebase/database";let Qv="";class Y9{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:xa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Q9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return lr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const bR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Y9(e)}}catch{}return new Q9},Li=bR("localStorage"),Zv=bR("sessionStorage"),ro=new Gs("@firebase/database"),TR=function(){let t=1;return function(){return t++}}(),SR=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,C(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new aH;n.update(e);const r=n.digest();return wc.encodeByteArray(r)},Qa=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Qa.apply(null,r):e+="object"==typeof r?tt(r):r,e+=" "}return e};let Fi=null,AR=!0;const Ke=function(...t){if(!0===AR&&(AR=!1,null===Fi&&!0===Zv.get("logging_enabled")&&function(t,e){C(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(ro.logLevel=le.VERBOSE,Fi=ro.log.bind(ro),e&&Zv.set("logging_enabled",!0)):"function"==typeof t?Fi=t:(Fi=null,Zv.remove("logging_enabled"))}(!0)),Fi){const e=Qa.apply(null,t);Fi(e)}},Za=function(t){return function(...e){Ke(t,...e)}},Jv=function(...t){const e="FIREBASE INTERNAL ERROR: "+Qa(...t);ro.error(e)},Fn=function(...t){const e=`FIREBASE FATAL ERROR: ${Qa(...t)}`;throw ro.error(e),new Error(e)},ht=function(...t){const e="FIREBASE WARNING: "+Qa(...t);ro.warn(e)},od=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Br="[MIN_NAME]",vr="[MAX_NAME]",Ui=function(t,e){if(t===e)return 0;if(t===Br||e===vr)return-1;if(e===Br||t===vr)return 1;{const n=xR(t),r=xR(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},X9=function(t,e){return t===e?0:t<e?-1:1},Ja=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tt(e))},Xv=function(t){if("object"!=typeof t||null===t)return tt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=tt(e[r]),n+=":",n+=Xv(t[e[r]]);return n+="}",n},RR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Ye(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const PR=function(t){C(!od(t),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},rq=new RegExp("^-?(0*)\\d{1,10}$"),xR=function(t){if(rq.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},io=function(t){try{t()}catch(e){setTimeout(()=>{throw ht("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Xa=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class aq{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class lq{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(e)}}let el=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const FR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BR="websocket",VR="long_polling";class tI{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Li.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Li.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function jR(t,e,n){let r;if(C("string"==typeof e,"typeof type must == string"),C("object"==typeof n,"typeof params must == object"),e===BR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==VR)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function uq(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Ye(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class cq{constructor(){this.counters_={}}incrementCounter(e,n=1){lr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return z6(this.counters_)}}const nI={},rI={};function iI(t){const e=t.toString();return nI[e]||(nI[e]=new cq),nI[e]}class hq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&io(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Vr{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Za(e),this.stats_=iI(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),jR(n,VR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new hq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sI((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&FR.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vr.forceAllow_=!0}static forceDisallow(){Vr.forceDisallow_=!0}static isAvailable(){return!(!Vr.forceAllow_&&(Vr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=NA(n),i=RR(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class sI{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=TR(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=sI.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ke("frame writing exception"),a.stack&&Ke(a.stack),Ke(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ke("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let ld=null;typeof MozWebSocket<"u"?ld=MozWebSocket:typeof WebSocket<"u"&&(ld=WebSocket);let so=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Za(this.connId),this.stats_=iI(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&FR.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),jR(n,BR,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Li.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new ld(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==ld&&!t.forceDisallow_}static previouslyFailed(){return Li.isInMemoryStorage||!0===Li.get("previous_websocket_failure")}markConnectionHealthy(){Li.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=xa(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(C(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=tt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=RR(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),YR=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Vr,so]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=so&&so.isAvailable();let i=r&&!so.previouslyFailed();if(n.webSocketOnly&&(r||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[so];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class nP{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Za("c:"+this.id+":"),this.transportManager_=new YR(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Xa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ja("t",e),r=Ja("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ja("t",e),r=Ja("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ja("t",e);if("d"in e){const r=e.d;if("h"===n)this.onHandshake_(r);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Jv("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Xa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class rP{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class iP{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class ud extends iP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Tg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ud}getInitialEvent(e){return C("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ue{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function re(){return new ue("")}function q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jr(t){return t.pieces_.length-t.pieceNum_}function fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function aI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function aP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function De(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ue(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){const n=q(t),r=q(e);if(null===n)return e;if(n===r)return Ct(fe(t),fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lI(t,e){if(jr(t)!==jr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function tn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(jr(t)>jr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Oq{constructor(e,n){this.errorPrefix_=n,this.parts_=tl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ac(this.parts_[r]);lP(this)}}function lP(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$i(t))}function $i(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class uI extends iP{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new uI}getInitialEvent(e){return C("visible"===e,"Unknown event type: "+e),[this.visible_]}}const nl=1e3;let dd,Bi=(()=>{class t extends rP{constructor(n,r,i,s,o,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=Za("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uI.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&ud.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(tt(o)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new Ws,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const u=l.d,c=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,s),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&lr(n,"w")){const i=zs(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=Dc(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=Dc(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+tt(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Jv("Unrecognized action received from server: "+tt(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return g(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,s())};n.realtime_={close:c,sendRequest:function(f){C(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new nP(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,m=>{ht(m+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&ht(f),c())}}})()}interrupt(n){Ke("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ke("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Rg(this.interruptReasons_)&&(this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>Xv(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new ue(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Ke("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ke("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Qv.replace(/\./g,"-")]=1,Tg()?n["framework.cordova"]=1:LA()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=ud.getInstance().currentlyOnline();return Rg(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Q{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Q(e,n)}}class cd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Q(Br,e),i=new Q(Br,n);return 0!==this.compare(r,i)}minPost(){return Q.MIN}}class dP extends cd{static get __EMPTY_NODE(){return dd}static set __EMPTY_NODE(e){dd=e}compare(e,n){return Ui(e.name,n.name)}isDefinedOn(e){throw Hs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(vr,dd)}makePost(e,n){return C("string"==typeof e,"KeyIndex indexValue must always be a string."),new Q(e,dd)}toString(){return".key"}}const Un=new dP;class hd{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let dI,yn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??xt.EMPTY_NODE,this.right=o??xt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return xt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class xt{constructor(e,n=xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,yn.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new hd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new hd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new hd(this.root_,null,this.comparator_,!0,e)}}function Hq(t,e){return Ui(t.name,e.name)}function cI(t,e){return Ui(t,e)}xt.EMPTY_NODE=new class jq{copy(e,n,r,i,s){return this}insert(e,n,r){return new yn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const hP=function(t){return"number"==typeof t?"number:"+PR(t):"string:"+t},fP=function(t){if(t.isLeafNode()){const e=t.val();C("string"==typeof e||"number"==typeof e||"object"==typeof e&&lr(e,".sv"),"Priority must be a string or number.")}else C(t===dI||t.isEmpty(),"priority of unexpected type.");C(t===dI||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let pP,gP,mP,oo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,C(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),fP(this.priorityNode_)}static set __childrenNodeConstructor(n){pP=n}static get __childrenNodeConstructor(){return pP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:".priority"===q(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=q(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(C(".priority"!==i||1===jr(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+hP(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?PR(this.value_):this.value_,this.lazyHash_=SR(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(C(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return C(s>=0,"Unknown leaf type: "+r),C(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const _e=new class qq extends cd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?Ui(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(vr,new oo("[PRIORITY-POST]",mP))}makePost(e,n){const r=gP(e);return new Q(n,new oo("[PRIORITY-POST]",r))}toString(){return".priority"}},Kq=Math.log(2);class Yq{constructor(e){this.count=parseInt(Math.log(e+1)/Kq,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const fd=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(0===c)return null;if(1===c)return d=t[l],h=n?n(d):d,new yn(h,d.node,yn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),m=i(f+1,u);return d=t[f],h=n?n(d):d,new yn(h,d.node,yn.BLACK,p,m)}},a=function(l){let u=null,c=null,d=t.length;const h=function(p,m){const _=d-p,v=d;d-=p;const w=i(_+1,v),y=t[_],M=n?n(y):y;f(new yn(M,y.node,m,null,w))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));m?h(_,yn.BLACK):(h(_,yn.BLACK),h(_,yn.RED))}return c}(new Yq(t.length));return new xt(r||e,a)};let hI;const ao={};class Ir{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return C(ao&&_e,"ChildrenNode.ts has not been loaded"),hI=hI||new Ir({".priority":ao},{".priority":_e}),hI}get(e){const n=zs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return lr(this.indexSet_,e.toString())}addIndex(e,n){C(e!==Un,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Q.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?fd(r,e.getCompare()):ao;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Ir(c,u)}addToIndexes(e,n){const r=bc(this.indexes_,(i,s)=>{const o=zs(this.indexSet_,s);if(C(o,"Missing index implementation for "+s),i===ao){if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Q.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),fd(a,o.getCompare())}return ao}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Q(e.name,a))),l.insert(e,e.node)}});return new Ir(r,this.indexSet_)}removeFromIndexes(e,n){const r=bc(this.indexes_,i=>{if(i===ao)return i;{const s=n.get(e.name);return s?i.remove(new Q(e.name,s)):i}});return new Ir(r,this.indexSet_)}}let rl,j=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&fP(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return rl||(rl=new t(new xt(cI),null,Ir.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||rl}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?rl:r}}getChild(n){const r=q(n);return null===r?this:this.getImmediateChild(r).getChild(fe(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(C(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new Q(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?rl:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=q(n);if(null===i)return r;{C(".priority"!==q(n)||1===jr(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(fe(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(_e,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+hP(this.getPriority().val())+":"),this.forEachChild(_e,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":SR(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Q(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Q(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Q(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,Q.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,Q.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===il?-1:0}withIndex(n){if(n===Un||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Un||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(_e),s=r.getIterator(_e);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===Un?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const il=new class Qq extends j{constructor(){super(new xt(cI),j.EMPTY_NODE,Ir.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}};function Se(t,e=null){if(null===t)return j.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),C(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new oo(t,Se(e));if(t instanceof Array){let n=j.EMPTY_NODE;return Ye(t,(r,i)=>{if(lr(t,r)&&"."!==r.substring(0,1)){const s=Se(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Se(e))}{const n=[];let r=!1;if(Ye(t,(o,a)=>{if("."!==o.substring(0,1)){const l=Se(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Q(o,l)))}}),0===n.length)return j.EMPTY_NODE;const s=fd(n,Hq,o=>o.name,cI);if(r){const o=fd(n,_e.getCompare());return new j(s,Se(e),new Ir({".priority":o},{".priority":_e}))}return new j(s,Se(e),Ir.Default)}}Object.defineProperties(Q,{MIN:{value:new Q(Br,j.EMPTY_NODE)},MAX:{value:new Q(vr,il)}}),dP.__EMPTY_NODE=j.EMPTY_NODE,oo.__childrenNodeConstructor=j,function Wq(t){dI=t}(il),function Gq(t){mP=t}(il),function zq(t){gP=t}(Se);class fI extends cd{constructor(e){super(),this.indexPath_=e,C(!K(e)&&".priority"!==q(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?Ui(e.name,n.name):s}makePost(e,n){const r=Se(e),i=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){const e=j.EMPTY_NODE.updateChild(this.indexPath_,il);return new Q(vr,e)}toString(){return tl(this.indexPath_,0).join("/")}}const pI=new class Jq extends cd{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Ui(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){const r=Se(e);return new Q(n,r)}toString(){return".value"}};function ol(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class mI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_e}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Br}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_e}copy(){const e=new mI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yP(t){const e={};if(t.isDefault())return e;let n;if(t.index_===_e?n="$priority":t.index_===pI?n="$value":t.index_===Un?n="$key":(C(t.index_ instanceof fI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=tt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=tt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+tt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=tt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function vP(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==_e&&(e.i=t.index_.toString()),e}class gd extends rP{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Za("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=gd.getListenId_(e,r),a={};this.listens_[o]=a;const l=yP(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(s,d,!1,r),zs(this.listens_,o)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(e,n){const r=gd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=yP(e._queryParams),r=e._path.toString(),i=new Ws;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ka(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=xa(a.responseText)}catch{ht("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&ht("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class oK{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function md(){return{value:null,children:new Map}}function uo(t,e,n){if(K(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=q(e);t.children.has(r)||t.children.set(r,md()),uo(t.children.get(r),e=fe(e),n)}}function II(t,e,n){null!==t.value?n(e,t.value):function aK(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{II(i,new ue(e.toString()+"/"+r),n)})}class lK{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ye(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class dK{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new lK(e);const r=1e4+2e4*Math.random();Xa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ye(e,(i,s)=>{s>0&&lr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Xa(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var nn=(()=>{return(t=nn||(nn={}))[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",nn;var t})();function CI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class _d{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=nn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(K(this.path)){if(null!=this.affectedTree.value)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ue(e));return new _d(re(),n,this.revert)}}return C(q(this.path)===e,"operationForChild called for unrelated child."),new _d(fe(this.path),this.affectedTree,this.revert)}}class Vi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=nn.OVERWRITE}operationForChild(e){return K(this.path)?new Vi(this.source,re(),this.snap.getImmediateChild(e)):new Vi(this.source,fe(this.path),this.snap)}}class co{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=nn.MERGE}operationForChild(e){if(K(this.path)){const n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new Vi(this.source,re(),n.value):new co(this.source,re(),n)}return C(q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new co(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Hr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;const n=q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function ul(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function gK(t,e,n){if(null==e.childName||null==n.childName)throw Hs("Should only compare child_ events.");const r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),o.forEach(a=>{const l=function pK(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function yd(t,e){return{eventCache:t,serverCache:e}}function cl(t,e,n,r){return yd(new Hr(e,n,r),t.serverCache)}function wP(t,e,n,r){return yd(t.eventCache,new Hr(e,n,r))}function vd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ji(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let DI;class ye{constructor(e,n=(()=>(DI||(DI=new xt(X9)),DI))()){this.value=e,this.children=n}static fromObject(e){let n=new ye(null);return Ye(e,(r,i)=>{n=n.set(new ue(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:re(),value:this.value};if(K(e))return null;{const r=q(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(fe(e),n);return null!=s?{path:De(new ue(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{const n=q(e),r=this.children.get(n);return null!==r?r.subtree(fe(e)):new ye(null)}}set(e,n){if(K(e))return new ye(n,this.children);{const r=q(e),s=(this.children.get(r)||new ye(null)).set(fe(e),n),o=this.children.insert(r,s);return new ye(this.value,o)}}remove(e){if(K(e))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=q(e),r=this.children.get(n);if(r){const i=r.remove(fe(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new ye(null):new ye(this.value,s)}return this}}get(e){if(K(e))return this.value;{const n=q(e),r=this.children.get(n);return r?r.get(fe(e)):null}}setTree(e,n){if(K(e))return n;{const r=q(e),s=(this.children.get(r)||new ye(null)).setTree(fe(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new ye(this.value,o)}}fold(e){return this.fold_(re(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(De(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,re(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(K(e))return null;{const s=q(e),o=this.children.get(s);return o?o.findOnPath_(fe(e),De(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,re(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);const i=q(e),s=this.children.get(i);return s?s.foreachOnPath_(fe(e),De(n,i),r):new ye(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class vn{constructor(e){this.writeTree_=e}static empty(){return new vn(new ye(null))}}function dl(t,e,n){if(K(e))return new vn(new ye(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Ct(i,e);return s=s.updateChild(o,n),new vn(t.writeTree_.set(i,s))}{const i=new ye(n),s=t.writeTree_.setTree(e,i);return new vn(s)}}}function bI(t,e,n){let r=t;return Ye(n,(i,s)=>{r=dl(r,De(e,i),s)}),r}function EP(t,e){if(K(e))return vn.empty();{const n=t.writeTree_.setTree(e,new ye(null));return new vn(n)}}function TI(t,e){return null!=Hi(t,e)}function Hi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function CP(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(_e,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Q(r,i.value))}),e}function Wr(t,e){if(K(e))return t;{const n=Hi(t,e);return new vn(null!=n?new ye(n):t.writeTree_.subtree(e))}}function SI(t){return t.writeTree_.isEmpty()}function ho(t,e){return DP(re(),t.writeTree_,e)}function DP(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(C(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=DP(De(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(De(t,".priority"),r)),n}}function Id(t,e){return MP(e,t)}function wK(t,e){if(t.snap)return tn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&tn(De(t.path,n),e))return!0;return!1}function CK(t){return t.visible}function bP(t,e,n){let r=vn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)tn(n,o)?(a=Ct(n,o),r=dl(r,a,s.snap)):tn(o,n)&&(a=Ct(o,n),r=dl(r,re(),s.snap.getChild(a)));else{if(!s.children)throw Hs("WriteRecord should have .snap or .children");if(tn(n,o))a=Ct(n,o),r=bI(r,a,s.children);else if(tn(o,n))if(a=Ct(o,n),K(a))r=bI(r,re(),s.children);else{const l=zs(s.children,q(a));if(l){const u=l.getChild(fe(a));r=dl(r,re(),u)}}}}}return r}function TP(t,e,n,r,i){if(r||i){const s=Wr(t.visibleWrites,e);return!i&&SI(s)?n:i||null!=n||TI(s,re())?ho(bP(t.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(tn(u.path,e)||tn(e,u.path))},e),n||j.EMPTY_NODE):null}{const s=Hi(t.visibleWrites,e);if(null!=s)return s;{const o=Wr(t.visibleWrites,e);return SI(o)?n:null!=n||TI(o,re())?ho(o,n||j.EMPTY_NODE):null}}}function wd(t,e,n,r){return TP(t.writeTree,t.treePath,e,n,r)}function AI(t,e){return function DK(t,e,n){let r=j.EMPTY_NODE;const i=Hi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(_e,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Wr(t.visibleWrites,e);return n.forEachChild(_e,(o,a)=>{const l=ho(Wr(s,new ue(o)),a);r=r.updateImmediateChild(o,l)}),CP(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return CP(Wr(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function SP(t,e,n,r){return function bK(t,e,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=De(e,n);if(TI(t.visibleWrites,s))return null;{const o=Wr(t.visibleWrites,s);return SI(o)?i.getChild(n):ho(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Ed(t,e){return function SK(t,e){return Hi(t.visibleWrites,e)}(t.writeTree,De(t.treePath,e))}function MI(t,e,n){return function TK(t,e,n,r){const i=De(e,n),s=Hi(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?ho(Wr(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function AP(t,e){return MP(De(t.treePath,e),t.writeTree)}function MP(t,e){return{treePath:t,writeTree:e}}class PK{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;C("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),C(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,ol(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function sl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function lo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Hs("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,ol(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const RP=new class xK{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class RI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Hr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return MI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ji(this.viewCache_),s=function RK(t,e,n,r,i,s){return function AK(t,e,n,r,i,s,o){let a;const l=Wr(t.visibleWrites,e),u=Hi(l,re());if(null!=u)a=u;else{if(null==n)return[];a=ho(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function PP(t,e,n,r,i,s){const o=e.eventCache;if(null!=Ed(r,n))return e;{let a,l;if(K(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ji(e),d=AI(r,u instanceof j?u:j.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=wd(r,ji(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=q(n);if(".priority"===u){C(1===jr(n),"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=SP(r,n,c,l);a=null!=d?t.filter.updatePriority(c,d):o.getNode()}else{const c=fe(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=SP(r,n,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(u).updateChild(c,h):o.getNode().getImmediateChild(u)}else d=MI(r,u,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),u,d,c,i,s):o.getNode()}}return cl(e,a,o.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function Cd(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(K(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=q(n);if(!l.isCompleteForPath(n)&&jr(n)>1)return e;const p=fe(n),_=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),_):c.updateChild(l.getNode(),f,_,p,RP,null)}const d=wP(e,u,l.isFullyInitialized()||K(n),c.filtersNodes());return PP(t,d,n,i,new RI(i,d,s),a)}function PI(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new RI(i,e,s);if(K(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=cl(e,u,!0,t.filter.filtersNodes());else{const d=q(n);if(".priority"===d)u=t.filter.updatePriority(e.eventCache.getNode(),r),l=cl(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=fe(n),f=a.getNode().getImmediateChild(d);let p;if(K(h))p=r;else{const m=c.getCompleteChild(d);p=null!=m?".priority"===aI(h)&&m.getChild(aP(h)).isEmpty()?m:m.updateChild(h,r):j.EMPTY_NODE}l=f.equals(p)?e:cl(e,t.filter.updateChild(a.getNode(),d,p,h,c,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function xP(t,e){return t.eventCache.isCompleteForChild(e)}function kP(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function xI(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=K(n)?r:new ye(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=kP(0,e.serverCache.getNode().getImmediateChild(d),h);l=Cd(t,l,new ue(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!c.hasChild(d)&&!f){const m=kP(0,e.serverCache.getNode().getImmediateChild(d),h);l=Cd(t,l,new ue(d),m,i,s,o,a)}}),l}function WK(t,e){const n=ji(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(q(e)).isEmpty())?n.getChild(e):null}function LP(t,e,n,r){e.type===nn.MERGE&&null!==e.source.queryId&&(C(ji(t.viewCache_),"We should always have a full cache before handling merges"),C(vd(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function OK(t,e,n,r,i){const s=new PK;let o,a;if(n.type===nn.OVERWRITE){const u=n;u.source.fromUser?o=PI(t,e,u.path,u.snap,r,i,s):(C(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!K(u.path),o=Cd(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===nn.MERGE){const u=n;u.source.fromUser?o=function FK(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=De(n,l);xP(e,q(c))&&(a=PI(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=De(n,l);xP(e,q(c))||(a=PI(t,a,c,u,i,s,o))}),a}(t,e,u.path,u.children,r,i,s):(C(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=xI(t,e,u.path,u.children,r,i,a,s))}else if(n.type===nn.ACK_USER_WRITE){const u=n;o=u.revert?function BK(t,e,n,r,i,s){let o;if(null!=Ed(r,n))return e;{const a=new RI(r,e,i),l=e.eventCache.getNode();let u;if(K(n)||".priority"===q(n)){let c;if(e.serverCache.isFullyInitialized())c=wd(r,ji(e));else{const d=e.serverCache.getNode();C(d instanceof j,"serverChildren would be complete if leaf node"),c=AI(r,d)}u=t.filter.updateFullNode(l,c,s)}else{const c=q(n);let d=MI(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?t.filter.updateChild(l,c,d,fe(n),a,s):e.eventCache.getNode().hasChild(c)?t.filter.updateChild(l,c,j.EMPTY_NODE,fe(n),a,s):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=wd(r,ji(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Ed(r,re()),cl(e,u,o,t.filter.filtersNodes())}}(t,e,u.path,r,i,s):function UK(t,e,n,r,i,s,o){if(null!=Ed(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(K(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Cd(t,e,n,l.getNode().getChild(n),i,s,a,o);if(K(n)){let u=new ye(null);return l.getNode().forEachChild(Un,(c,d)=>{u=u.set(new ue(c),d)}),xI(t,e,n,u,i,s,a,o)}return e}{let u=new ye(null);return r.foreach((c,d)=>{const h=De(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),xI(t,e,n,u,i,s,a,o)}}(t,e,u.path,u.affectedTree,r,i,s)}else{if(n.type!==nn.LISTEN_COMPLETE)throw Hs("Unknown operation type: "+n.type);o=function $K(t,e,n,r,i){const s=e.serverCache;return PP(t,wP(e,s.getNode(),s.isFullyInitialized()||K(n),s.isFiltered()),n,r,RP,i)}(t,e,n.path,r,s)}const l=s.getChanges();return function LK(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=vd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function _P(t){return{type:"value",snapshotNode:t}}(vd(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,i,e,n,r);return function NK(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),C(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function FP(t,e,n,r){return function fK(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Xq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),ul(t,i,"child_removed",e,r,n),ul(t,i,"child_added",e,r,n),ul(t,i,"child_moved",s,r,n),ul(t,i,"child_changed",e,r,n),ul(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let Dd,Td;function kI(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return C(null!=s,"SyncTree gave us an op for an invalid query."),LP(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(LP(o,e,n,r));return s}}function zr(t,e){let n=null;for(const r of t.views.values())n=n||WK(r,e);return n}class HP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ye(null),this.pendingWriteTree_=function MK(){return{visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NI(t,e,n,r,i){return function _K(t,e,n,r,i){C(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=dl(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?fo(t,new Vi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function qr(t,e,n=!1){const r=function vK(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function IK(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&wK(a,r.path)?i=!1:tn(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function EK(t){t.visibleWrites=bP(t.allWrites,CK,re()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=EP(t.visibleWrites,r.path):Ye(r.children,l=>{t.visibleWrites=EP(t.visibleWrites,De(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let s=new ye(null);return null!=r.snap?s=s.set(re(),!0):Ye(r.children,o=>{s=s.set(new ue(o),!0)}),fo(t,new _d(r.path,s,n))}return[]}function hl(t,e,n){return fo(t,new Vi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Ad(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const u=zr(a,Ct(o,e));if(u)return u});return TP(i,e,s,n,!0)}function fo(t,e){return zP(e,t.syncPointTree_,null,Id(t.pendingWriteTree_,re()))}function zP(t,e,n,r){if(K(t.path))return GP(t,e,n,r);{const i=e.get(re());null==n&&null!=i&&(n=zr(i,re()));let s=[];const o=q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=AP(r,o);s=s.concat(zP(a,l,u,c))}return i&&(s=s.concat(kI(i,t,r,n))),s}}function GP(t,e,n,r){const i=e.get(re());null==n&&null!=i&&(n=zr(i,re()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=AP(r,o),c=t.operationForChild(o);c&&(s=s.concat(GP(c,a,l,u)))}),i&&(s=s.concat(kI(i,t,r,n))),s}function LI(t,e){return t.tagToQueryMap.get(e)}function FI(t){const e=t.indexOf("$");return C(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function UI(t,e,n){const r=t.syncPointTree_.get(e);return C(r,"Missing sync point for query tag that we're tracking"),kI(r,n,Id(t.pendingWriteTree_,e),null)}class $I{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new $I(n)}node(){return this.node_}}class BI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=De(this.path_,e);return new BI(this.syncTree_,n)}node(){return Ad(this.syncTree_,this.path_)}}const KP=function(t,e,n){return t&&"object"==typeof t?(C(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?hY(t[".sv"],e,n):"object"==typeof t[".sv"]?fY(t[".sv"],e):void C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},hY=function(t,e,n){if("timestamp"===t)return n.timestamp;C(!1,"Unexpected server value: "+t)},fY=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&C(!1,"Unexpected increment value: "+r);const i=e.node();if(C(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},VI=function(t,e,n){return jI(t,new $I(e),n)};function jI(t,e,n){const r=t.getPriority().val(),i=KP(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=KP(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new oo(a,Se(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new oo(i))),o.forEachChild(_e,(a,l)=>{const u=jI(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}class HI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Rd(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=q(n);for(;null!==i;){const s=zs(r.node.children,i)||{children:{},childCount:0};r=new HI(i,r,s),n=fe(n),i=q(n)}return r}function Wi(t){return t.node.value}function WI(t,e){t.node.value=e,zI(t)}function QP(t){return t.node.childCount>0}function Pd(t,e){Ye(t.node.children,(n,r)=>{e(new HI(n,t,r))})}function ZP(t,e,n,r){n&&!r&&e(t),Pd(t,i=>{ZP(i,e,!0,r)}),n&&r&&e(t)}function gl(t){return new ue(null===t.parent?t.name:gl(t.parent)+"/"+t.name)}function zI(t){null!==t.parent&&function mY(t,e,n){const r=function pY(t){return void 0===Wi(t)&&!QP(t)}(n),i=lr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,zI(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,zI(t))}(t.parent,t.name,t)}const _Y=/[\[\].#$\/\u0000-\u001F\u007F]/,yY=/[\[\].#$\u0000-\u001F\u007F]/,GI=10485760,xd=function(t){return"string"==typeof t&&0!==t.length&&!_Y.test(t)},_l=function(t,e,n){const r=n instanceof ue?new Oq(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+$i(r));if("function"==typeof e)throw new Error(t+"contains a function "+$i(r)+" with contents = "+e.toString());if(od(e))throw new Error(t+"contains "+e.toString()+" "+$i(r));if("string"==typeof e&&e.length>GI/3&&Ac(e)>GI)throw new Error(t+"contains a string greater than "+GI+" utf8 bytes "+$i(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Ye(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!xd(o)))throw new Error(t+" contains an invalid key ("+o+") "+$i(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Lq(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ac(e),lP(t)})(r,o),_l(t,a,r),function Fq(t){const e=t.parts_.pop();t.byteLength_-=Ac(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+$i(r)+" in addition to actual children.")}},ex=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!xd(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!yY.test(t)}(t)}(n))throw new Error(function Sc(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class EY{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wt(t,e,n){(function kd(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!lI(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function nx(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(CY(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>tn(r,e)||tn(e,r))}function CY(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Fi&&Ke("event: "+n.toString()),io(r)}}}class bY{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=md(),this.transactionQueueTree_=new HI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ix(t){const n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function vl(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:ix(t)})}function sx(t,e,n,r,i){t.dataUpdateCount++;const s=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=bc(n,u=>Se(u));o=function sY(t,e,n,r){const i=LI(t,r);if(i){const s=FI(i),o=s.path,a=s.queryId,l=Ct(o,e),u=ye.fromObject(n);return UI(t,o,new co(CI(a),l,u))}return[]}(t.serverSyncTree_,s,l,i)}else{const l=Se(n);o=function WP(t,e,n,r){const i=LI(t,r);if(null!=i){const s=FI(i),o=s.path,a=s.queryId,l=Ct(o,e);return UI(t,o,new Vi(CI(a),l,n))}return[]}(t.serverSyncTree_,s,l,i)}else if(r){const l=bc(n,u=>Se(u));o=function nY(t,e,n){const r=ye.fromObject(n);return fo(t,new co({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{const l=Se(n);o=hl(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=go(t,s)),Wt(t.eventQueue_,a,o)}function ox(t,e){YI(t,"connected",e),!1===e&&function RY(t){po(t,"onDisconnectEvents");const e=vl(t),n=md();II(t.onDisconnect_,re(),(i,s)=>{const o=function(t,e,n,r){return jI(e,new BI(n,t),r)}(i,s,t.serverSyncTree_,e);uo(n,i,o)});let r=[];II(n,re(),(i,s)=>{r=r.concat(hl(t.serverSyncTree_,i,s));const o=function XI(t,e){const n=gl(ux(t,e)),r=Rd(t.transactionQueueTree_,e);return function gY(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{ew(t,i)}),ew(t,r),ZP(r,i=>{ew(t,i)}),n}(t,i);go(t,o)}),t.onDisconnect_=md(),Wt(t.eventQueue_,re(),r)}(t)}function YI(t,e,n){const r=new ue("/.info/"+e),i=Se(n);t.infoData_.updateSnapshot(r,i);const s=hl(t.infoSyncTree_,r,i);Wt(t.eventQueue_,r,s)}function Nd(t){return t.nextWriteId_++}function po(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ke(n,...e)}function JI(t,e,n){return Ad(t.serverSyncTree_,e,n)||j.EMPTY_NODE}function Od(t,e=t.transactionQueueTree_){if(e||Ld(t,e),Wi(e)){const n=cx(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function FY(t,e,n){const r=n.map(u=>u.currentWriteId),i=JI(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];C(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ct(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{po(t,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(qr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Ld(t,Rd(t.transactionQueueTree_,e)),Od(t,t.transactionQueueTree_),Wt(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)io(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{ht("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}go(t,e)}},o)}(t,gl(e),n)}else QP(e)&&Pd(e,n=>{Od(t,n)})}function go(t,e){const n=ux(t,e),r=gl(n);return function UY(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Ct(n,l.path);let d,c=!1;if(C(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(qr(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)c=!0,d="maxretry",i=i.concat(qr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=JI(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){_l("transaction failed: Data returned ",f,l.path);let p=Se(f);"object"==typeof f&&null!=f&&lr(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,v=vl(t),w=VI(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=w,l.currentWriteId=Nd(t),o.splice(o.indexOf(_),1),i=i.concat(NI(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(qr(t.serverSyncTree_,_,!0))}else c=!0,d="nodata",i=i.concat(qr(t.serverSyncTree_,l.currentWriteId,!0))}Wt(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Ld(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)io(r[a]);Od(t,t.transactionQueueTree_)}(t,cx(t,n),r),r}function ux(t,e){let n,r=t.transactionQueueTree_;for(n=q(e);null!==n&&void 0===Wi(r);)r=Rd(r,n),n=q(e=fe(e));return r}function cx(t,e){const n=[];return dx(t,e,n),n.sort((r,i)=>r.order-i.order),n}function dx(t,e,n){const r=Wi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Pd(e,i=>{dx(t,i,n)})}function Ld(t,e){const n=Wi(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,WI(e,n.length>0?n:void 0)}Pd(e,r=>{Ld(t,r)})}function ew(t,e){const n=Wi(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(C(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(C(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(qr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?WI(e,void 0):n.length=s+1,Wt(t.eventQueue_,gl(e),i);for(let o=0;o<r.length;o++)io(r[o])}}const tw=function(t,e){const n=VY(t),r=n.namespace;return"firebase.com"===n.domain&&Fn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tI(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ue(n.pathString)}},VY=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");-1===c&&(c=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=function $Y(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(c,d)));const h=function BY(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ht(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class zt{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:aI(this._path)}get ref(){return new In(this._repo,this._path)}get _queryIdentifier(){const e=vP(this._queryParams),n=Xv(e);return"{}"===n?"default":n}get _queryObject(){return vP(this._queryParams)}isEqual(e){if(!((e=Nn(e))instanceof zt))return!1;const n=this._repo===e._repo,r=lI(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function kq(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class In extends zt{constructor(e,n){super(e,n,new mI,!1)}get parent(){const e=aP(this._path);return null===e?null:new In(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function qK(t){C(!Dd,"__referenceConstructor has already been defined"),Dd=t})(In),function JK(t){C(!Td,"__referenceConstructor has already been defined"),Td=t}(In);const rw={};class aQ{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function TY(t,e,n){if(t.stats_=iI(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new gd(t.repoInfo_,(r,i,s,o)=>{sx(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ox(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Bi(t.repoInfo_,e,(r,i,s,o)=>{sx(t,r,i,s,o)},r=>{ox(t,r)},r=>{!function SY(t,e){Ye(e,(n,r)=>{YI(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function dq(t,e){const n=t.toString();return rI[n]||(rI[n]=e()),rI[n]}(t.repoInfo_,()=>new dK(t.stats_,t.server_)),t.infoData_=new oK,t.infoSyncTree_=new HP({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=hl(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),YI(t,"connected",!1),t.serverSyncTree_=new HP({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Wt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new In(this._repo,re())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function iQ(t,e){const n=rw[e];(!n||n[t.key]!==t)&&Fn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function lx(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Fn("Cannot call "+e+" on a deleted database.")}}function lQ(t=jg(),e){const n=qs(t,"database").getImmediate({identifier:e}),r=(t=>{const e=FA("database");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();return r&&function uQ(t,e,n,r={}){(t=Nn(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Fn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new el(el.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:function tH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ec(JSON.stringify({alg:"none",type:"JWT"})),Ec(JSON.stringify(o)),""].join(".")}(r.mockUserToken,t.app.options.projectId);s=new el(o)}!function nQ(t,e,n,r){t.repoInfo_=new tI(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r),n}Bi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Bi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function cQ(t){(function K9(t){Qv=t})(Ks),wt(new dt("database",(e,{instanceIdentifier:n})=>function rQ(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,u,o=tw(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=tw(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new el(el.OWNER):new lq(t.name,t.options,e);ex("Invalid Firebase Database URL",o),K(o.path)||Fn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function sQ(t,e,n,r){let i=rw[e.name];i||(i={},rw[e.name]=i);let s=i[t.toURLString()];return s&&Fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bY(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,c,new aq(t.name,n));return new aQ(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Re(CR,"0.14.0",t),Re(CR,"0.14.0","esm2017")}();class iw{constructor(e){return e}}const Ix="database",sw=new P("angularfire2.database-instances");function gQ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new iw(r)}}const mQ={provide:class fQ{constructor(){return A_(Ix)}},deps:[[new lt,sw]]},_Q={provide:iw,useFactory:function pQ(t,e){const n=S_(Ix,t,e);return n&&new iw(n)},deps:[[new lt,sw],Xs]};let yQ=(()=>{class t{constructor(){Re("angularfire",Uc.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Cn({type:t}),t.\u0275inj=rn({providers:[_Q,mQ]}),t})();const IQ=R_(lQ,!0);class _o{}_o.\u0275fac=function(e){return new(e||_o)},_o.\u0275mod=Cn({type:_o,bootstrap:[Ra]}),_o.\u0275inj=rn({imports:[GB,js,function fz(t,...e){return{ngModule:hz,providers:[{provide:x_,useFactory:dz(t),multi:!0,deps:[Ce,Bt,M_,...e]}]}}(()=>pz(gz_firebase)),function G9(t,...e){return{ngModule:z9,providers:[{provide:Yv,useFactory:j9(t),multi:!0,deps:[Ce,Bt,M_,P_,[new lt,Q_],...e]}]}}(()=>q9()),function vQ(t,...e){return{ngModule:yQ,providers:[{provide:sw,useFactory:gQ(t),multi:!0,deps:[Ce,Bt,M_,P_,[new lt,ER],[new lt,Q_],...e]}]}}(()=>IQ())]}),zB().bootstrapModule(_o).catch(t=>console.error(t))}},pe=>{pe(pe.s=802)}]);